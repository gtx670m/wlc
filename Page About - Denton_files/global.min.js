!(function (e, t, o, n) {
  'use strict';
  function i(e, t) {
    var n,
      i,
      s,
      a = [],
      r = 0;
    (e && e.isDefaultPrevented()) ||
      (e.preventDefault(),
      (t = t || {}),
      e && e.data && (t = h(e.data.options, t)),
      (n = t.$target || o(e.currentTarget).trigger('blur')),
      ((s = o.fancybox.getInstance()) && s.$trigger && s.$trigger.is(n)) ||
        (t.selector
          ? (a = o(t.selector))
          : (i = n.attr('data-fancybox') || '')
          ? (a = (a = e.data ? e.data.items : []).length
              ? a.filter('[data-fancybox="' + i + '"]')
              : o('[data-fancybox="' + i + '"]'))
          : (a = [n]),
        (r = o(a).index(n)) < 0 && (r = 0),
        ((s = o.fancybox.open(a, t, r)).$trigger = n)));
  }
  if (((e.console = e.console || { info: function (e) {} }), o)) {
    if (o.fn.fancybox) return void console.info('fancyBox already initialized');
    var s = {
        closeExisting: !1,
        loop: !1,
        gutter: 50,
        keyboard: !0,
        preventCaptionOverlap: !0,
        arrows: !0,
        infobar: !0,
        smallBtn: 'auto',
        toolbar: 'auto',
        buttons: ['zoom', 'slideShow', 'thumbs', 'close'],
        idleTime: 3,
        protect: !1,
        modal: !1,
        image: { preload: !1 },
        ajax: { settings: { data: { fancybox: !0 } } },
        iframe: {
          tpl: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',
          preload: !0,
          css: {},
          attr: { scrolling: 'auto' },
        },
        video: {
          tpl: '<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',
          format: '',
          autoStart: !0,
        },
        defaultType: 'image',
        animationEffect: 'zoom',
        animationDuration: 366,
        zoomOpacity: 'auto',
        transitionEffect: 'fade',
        transitionDuration: 366,
        slideClass: '',
        baseClass: '',
        baseTpl:
          '<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',
        spinnerTpl: '<div class="fancybox-loading"></div>',
        errorTpl: '<div class="fancybox-error"><p>{{ERROR}}</p></div>',
        btnTpl: {
          download:
            '<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',
          zoom: '<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',
          close:
            '<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',
          arrowLeft:
            '<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',
          arrowRight:
            '<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',
          smallBtn:
            '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>',
        },
        parentEl: 'body',
        hideScrollbar: !0,
        autoFocus: !0,
        backFocus: !0,
        trapFocus: !0,
        fullScreen: { autoStart: !1 },
        touch: { vertical: !0, momentum: !0 },
        hash: null,
        media: {},
        slideShow: { autoStart: !1, speed: 3e3 },
        thumbs: {
          autoStart: !1,
          hideOnClose: !0,
          parentEl: '.fancybox-container',
          axis: 'y',
        },
        wheel: 'auto',
        onInit: o.noop,
        beforeLoad: o.noop,
        afterLoad: o.noop,
        beforeShow: o.noop,
        afterShow: o.noop,
        beforeClose: o.noop,
        afterClose: o.noop,
        onActivate: o.noop,
        onDeactivate: o.noop,
        clickContent: function (e, t) {
          return 'image' === e.type && 'zoom';
        },
        clickSlide: 'close',
        clickOutside: 'close',
        dblclickContent: !1,
        dblclickSlide: !1,
        dblclickOutside: !1,
        mobile: {
          preventCaptionOverlap: !1,
          idleTime: !1,
          clickContent: function (e, t) {
            return 'image' === e.type && 'toggleControls';
          },
          clickSlide: function (e, t) {
            return 'image' === e.type ? 'toggleControls' : 'close';
          },
          dblclickContent: function (e, t) {
            return 'image' === e.type && 'zoom';
          },
          dblclickSlide: function (e, t) {
            return 'image' === e.type && 'zoom';
          },
        },
        lang: 'en',
        i18n: {
          en: {
            CLOSE: 'Close',
            NEXT: 'Next',
            PREV: 'Previous',
            ERROR:
              'The requested content cannot be loaded. <br/> Please try again later.',
            PLAY_START: 'Start slideshow',
            PLAY_STOP: 'Pause slideshow',
            FULL_SCREEN: 'Full screen',
            THUMBS: 'Thumbnails',
            DOWNLOAD: 'Download',
            SHARE: 'Share',
            ZOOM: 'Zoom',
          },
          de: {
            CLOSE: 'Schlie&szlig;en',
            NEXT: 'Weiter',
            PREV: 'Zur&uuml;ck',
            ERROR:
              'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.',
            PLAY_START: 'Diaschau starten',
            PLAY_STOP: 'Diaschau beenden',
            FULL_SCREEN: 'Vollbild',
            THUMBS: 'Vorschaubilder',
            DOWNLOAD: 'Herunterladen',
            SHARE: 'Teilen',
            ZOOM: 'Vergr&ouml;&szlig;ern',
          },
        },
      },
      a = o(e),
      r = o(t),
      c = 0,
      l =
        e.requestAnimationFrame ||
        e.webkitRequestAnimationFrame ||
        e.mozRequestAnimationFrame ||
        e.oRequestAnimationFrame ||
        function (t) {
          return e.setTimeout(t, 1e3 / 60);
        },
      d =
        e.cancelAnimationFrame ||
        e.webkitCancelAnimationFrame ||
        e.mozCancelAnimationFrame ||
        e.oCancelAnimationFrame ||
        function (t) {
          e.clearTimeout(t);
        },
      u = (function () {
        var e,
          o = t.createElement('fakeelement'),
          n = {
            transition: 'transitionend',
            OTransition: 'oTransitionEnd',
            MozTransition: 'transitionend',
            WebkitTransition: 'webkitTransitionEnd',
          };
        for (e in n) if (void 0 !== o.style[e]) return n[e];
        return 'transitionend';
      })(),
      p = function (e) {
        return e && e.length && e[0].offsetHeight;
      },
      h = function (e, t) {
        var n = o.extend(!0, {}, e, t);
        return (
          o.each(t, function (e, t) {
            o.isArray(t) && (n[e] = t);
          }),
          n
        );
      },
      f = function (e) {
        var n, i;
        return (
          !(!e || e.ownerDocument !== t) &&
          (o('.fancybox-container').css('pointer-events', 'none'),
          (n = {
            x: e.getBoundingClientRect().left + e.offsetWidth / 2,
            y: e.getBoundingClientRect().top + e.offsetHeight / 2,
          }),
          (i = t.elementFromPoint(n.x, n.y) === e),
          o('.fancybox-container').css('pointer-events', ''),
          i)
        );
      },
      g = function (e, t, n) {
        var i = this;
        (i.opts = h({ index: n }, o.fancybox.defaults)),
          o.isPlainObject(t) && (i.opts = h(i.opts, t)),
          o.fancybox.isMobile && (i.opts = h(i.opts, i.opts.mobile)),
          (i.id = i.opts.id || ++c),
          (i.currIndex = parseInt(i.opts.index, 10) || 0),
          (i.prevIndex = null),
          (i.prevPos = null),
          (i.currPos = 0),
          (i.firstRun = !0),
          (i.group = []),
          (i.slides = {}),
          i.addContent(e),
          i.group.length && i.init();
      };
    o.extend(g.prototype, {
      init: function () {
        var n,
          i,
          s = this,
          a = s.group[s.currIndex].opts;
        a.closeExisting && o.fancybox.close(!0),
          o('body').addClass('fancybox-active'),
          !o.fancybox.getInstance() &&
            !1 !== a.hideScrollbar &&
            !o.fancybox.isMobile &&
            t.body.scrollHeight > e.innerHeight &&
            (o('head').append(
              '<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:' +
                (e.innerWidth - t.documentElement.clientWidth) +
                'px;}</style>'
            ),
            o('body').addClass('compensate-for-scrollbar')),
          (i = ''),
          o.each(a.buttons, function (e, t) {
            i += a.btnTpl[t] || '';
          }),
          (n = o(
            s.translate(
              s,
              a.baseTpl
                .replace('{{buttons}}', i)
                .replace('{{arrows}}', a.btnTpl.arrowLeft + a.btnTpl.arrowRight)
            )
          )
            .attr('id', 'fancybox-container-' + s.id)
            .addClass(a.baseClass)
            .data('FancyBox', s)
            .appendTo(a.parentEl)),
          (s.$refs = { container: n }),
          [
            'bg',
            'inner',
            'infobar',
            'toolbar',
            'stage',
            'caption',
            'navigation',
          ].forEach(function (e) {
            s.$refs[e] = n.find('.fancybox-' + e);
          }),
          s.trigger('onInit'),
          s.activate(),
          s.jumpTo(s.currIndex);
      },
      translate: function (e, t) {
        var o = e.opts.i18n[e.opts.lang] || e.opts.i18n.en;
        return t.replace(/\{\{(\w+)\}\}/g, function (e, t) {
          return void 0 === o[t] ? e : o[t];
        });
      },
      addContent: function (e) {
        var t,
          n = this,
          i = o.makeArray(e);
        o.each(i, function (e, t) {
          var i,
            s,
            a,
            r,
            c,
            l = {},
            d = {};
          o.isPlainObject(t)
            ? ((l = t), (d = t.opts || t))
            : 'object' === o.type(t) && o(t).length
            ? ((d = (i = o(t)).data() || {}),
              ((d = o.extend(!0, {}, d, d.options)).$orig = i),
              (l.src = n.opts.src || d.src || i.attr('href')),
              l.type || l.src || ((l.type = 'inline'), (l.src = t)))
            : (l = { type: 'html', src: t + '' }),
            (l.opts = o.extend(!0, {}, n.opts, d)),
            o.isArray(d.buttons) && (l.opts.buttons = d.buttons),
            o.fancybox.isMobile &&
              l.opts.mobile &&
              (l.opts = h(l.opts, l.opts.mobile)),
            (s = l.type || l.opts.type),
            (r = l.src || ''),
            !s &&
              r &&
              ((a = r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))
                ? ((s = 'video'),
                  l.opts.video.format ||
                    (l.opts.video.format =
                      'video/' + ('ogv' === a[1] ? 'ogg' : a[1])))
                : r.match(
                    /(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i
                  )
                ? (s = 'image')
                : r.match(/\.(pdf)((\?|#).*)?$/i)
                ? ((s = 'iframe'),
                  (l = o.extend(!0, l, {
                    contentType: 'pdf',
                    opts: { iframe: { preload: !1 } },
                  })))
                : '#' === r.charAt(0) && (s = 'inline')),
            s ? (l.type = s) : n.trigger('objectNeedsType', l),
            l.contentType ||
              (l.contentType =
                o.inArray(l.type, ['html', 'inline', 'ajax']) > -1
                  ? 'html'
                  : l.type),
            (l.index = n.group.length),
            'auto' == l.opts.smallBtn &&
              (l.opts.smallBtn =
                o.inArray(l.type, ['html', 'inline', 'ajax']) > -1),
            'auto' === l.opts.toolbar && (l.opts.toolbar = !l.opts.smallBtn),
            (l.$thumb = l.opts.$thumb || null),
            l.opts.$trigger &&
              l.index === n.opts.index &&
              ((l.$thumb = l.opts.$trigger.find('img:first')),
              l.$thumb.length && (l.opts.$orig = l.opts.$trigger)),
            (l.$thumb && l.$thumb.length) ||
              !l.opts.$orig ||
              (l.$thumb = l.opts.$orig.find('img:first')),
            l.$thumb && !l.$thumb.length && (l.$thumb = null),
            (l.thumb = l.opts.thumb || (l.$thumb ? l.$thumb[0].src : null)),
            'function' === o.type(l.opts.caption) &&
              (l.opts.caption = l.opts.caption.apply(t, [n, l])),
            'function' === o.type(n.opts.caption) &&
              (l.opts.caption = n.opts.caption.apply(t, [n, l])),
            l.opts.caption instanceof o ||
              (l.opts.caption =
                void 0 === l.opts.caption ? '' : l.opts.caption + ''),
            'ajax' === l.type &&
              (c = r.split(/\s+/, 2)).length > 1 &&
              ((l.src = c.shift()), (l.opts.filter = c.shift())),
            l.opts.modal &&
              (l.opts = o.extend(!0, l.opts, {
                trapFocus: !0,
                infobar: 0,
                toolbar: 0,
                smallBtn: 0,
                keyboard: 0,
                slideShow: 0,
                fullScreen: 0,
                thumbs: 0,
                touch: 0,
                clickContent: !1,
                clickSlide: !1,
                clickOutside: !1,
                dblclickContent: !1,
                dblclickSlide: !1,
                dblclickOutside: !1,
              })),
            n.group.push(l);
        }),
          Object.keys(n.slides).length &&
            (n.updateControls(),
            (t = n.Thumbs) && t.isActive && (t.create(), t.focus()));
      },
      addEvents: function () {
        var t = this;
        t.removeEvents(),
          t.$refs.container
            .on('click.fb-close', '[data-fancybox-close]', function (e) {
              e.stopPropagation(), e.preventDefault(), t.close(e);
            })
            .on(
              'touchstart.fb-prev click.fb-prev',
              '[data-fancybox-prev]',
              function (e) {
                e.stopPropagation(), e.preventDefault(), t.previous();
              }
            )
            .on(
              'touchstart.fb-next click.fb-next',
              '[data-fancybox-next]',
              function (e) {
                e.stopPropagation(), e.preventDefault(), t.next();
              }
            )
            .on('click.fb', '[data-fancybox-zoom]', function (e) {
              t[t.isScaledDown() ? 'scaleToActual' : 'scaleToFit']();
            }),
          a.on('orientationchange.fb resize.fb', function (e) {
            e && e.originalEvent && 'resize' === e.originalEvent.type
              ? (t.requestId && d(t.requestId),
                (t.requestId = l(function () {
                  t.update(e);
                })))
              : (t.current &&
                  'iframe' === t.current.type &&
                  t.$refs.stage.hide(),
                setTimeout(
                  function () {
                    t.$refs.stage.show(), t.update(e);
                  },
                  o.fancybox.isMobile ? 600 : 250
                ));
          }),
          r.on('keydown.fb', function (e) {
            var n = (o.fancybox ? o.fancybox.getInstance() : null).current,
              i = e.keyCode || e.which;
            if (9 != i)
              return !n.opts.keyboard ||
                e.ctrlKey ||
                e.altKey ||
                e.shiftKey ||
                o(e.target).is('input,textarea,video,audio,select')
                ? void 0
                : 8 === i || 27 === i
                ? (e.preventDefault(), void t.close(e))
                : 37 === i || 38 === i
                ? (e.preventDefault(), void t.previous())
                : 39 === i || 40 === i
                ? (e.preventDefault(), void t.next())
                : void t.trigger('afterKeydown', e, i);
            n.opts.trapFocus && t.focus(e);
          }),
          t.group[t.currIndex].opts.idleTime &&
            ((t.idleSecondsCounter = 0),
            r.on(
              'mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle',
              function (e) {
                (t.idleSecondsCounter = 0),
                  t.isIdle && t.showControls(),
                  (t.isIdle = !1);
              }
            ),
            (t.idleInterval = e.setInterval(function () {
              ++t.idleSecondsCounter >= t.group[t.currIndex].opts.idleTime &&
                !t.isDragging &&
                ((t.isIdle = !0), (t.idleSecondsCounter = 0), t.hideControls());
            }, 1e3)));
      },
      removeEvents: function () {
        var t = this;
        a.off('orientationchange.fb resize.fb'),
          r.off('keydown.fb .fb-idle'),
          this.$refs.container.off('.fb-close .fb-prev .fb-next'),
          t.idleInterval &&
            (e.clearInterval(t.idleInterval), (t.idleInterval = null));
      },
      previous: function (e) {
        return this.jumpTo(this.currPos - 1, e);
      },
      next: function (e) {
        return this.jumpTo(this.currPos + 1, e);
      },
      jumpTo: function (e, t) {
        var n,
          i,
          s,
          a,
          r,
          c,
          l,
          d,
          u,
          h = this,
          f = h.group.length;
        if (!(h.isDragging || h.isClosing || (h.isAnimating && h.firstRun))) {
          if (
            ((e = parseInt(e, 10)),
            !(s = h.current ? h.current.opts.loop : h.opts.loop) &&
              (e < 0 || e >= f))
          )
            return !1;
          if (
            ((n = h.firstRun = !Object.keys(h.slides).length),
            (r = h.current),
            (h.prevIndex = h.currIndex),
            (h.prevPos = h.currPos),
            (a = h.createSlide(e)),
            f > 1 &&
              ((s || a.index < f - 1) && h.createSlide(e + 1),
              (s || a.index > 0) && h.createSlide(e - 1)),
            (h.current = a),
            (h.currIndex = a.index),
            (h.currPos = a.pos),
            h.trigger('beforeShow', n),
            h.updateControls(),
            (a.forcedDuration = void 0),
            o.isNumeric(t)
              ? (a.forcedDuration = t)
              : (t = a.opts[n ? 'animationDuration' : 'transitionDuration']),
            (t = parseInt(t, 10)),
            (i = h.isMoved(a)),
            a.$slide.addClass('fancybox-slide--current'),
            n)
          )
            return (
              a.opts.animationEffect &&
                t &&
                h.$refs.container.css('transition-duration', t + 'ms'),
              h.$refs.container.addClass('fancybox-is-open').trigger('focus'),
              h.loadSlide(a),
              void h.preload('image')
            );
          (c = o.fancybox.getTranslate(r.$slide)),
            (l = o.fancybox.getTranslate(h.$refs.stage)),
            o.each(h.slides, function (e, t) {
              o.fancybox.stop(t.$slide, !0);
            }),
            r.pos !== a.pos && (r.isComplete = !1),
            r.$slide.removeClass(
              'fancybox-slide--complete fancybox-slide--current'
            ),
            i
              ? ((u = c.left - (r.pos * c.width + r.pos * r.opts.gutter)),
                o.each(h.slides, function (e, n) {
                  n.$slide
                    .removeClass('fancybox-animated')
                    .removeClass(function (e, t) {
                      return (t.match(/(^|\s)fancybox-fx-\S+/g) || []).join(
                        ' '
                      );
                    });
                  var i = n.pos * c.width + n.pos * n.opts.gutter;
                  o.fancybox.setTranslate(n.$slide, {
                    top: 0,
                    left: i - l.left + u,
                  }),
                    n.pos !== a.pos &&
                      n.$slide.addClass(
                        'fancybox-slide--' +
                          (n.pos > a.pos ? 'next' : 'previous')
                      ),
                    p(n.$slide),
                    o.fancybox.animate(
                      n.$slide,
                      {
                        top: 0,
                        left:
                          (n.pos - a.pos) * c.width +
                          (n.pos - a.pos) * n.opts.gutter,
                      },
                      t,
                      function () {
                        n.$slide
                          .css({ transform: '', opacity: '' })
                          .removeClass(
                            'fancybox-slide--next fancybox-slide--previous'
                          ),
                          n.pos === h.currPos && h.complete();
                      }
                    );
                }))
              : t &&
                a.opts.transitionEffect &&
                ((d =
                  'fancybox-animated fancybox-fx-' + a.opts.transitionEffect),
                r.$slide.addClass(
                  'fancybox-slide--' + (r.pos > a.pos ? 'next' : 'previous')
                ),
                o.fancybox.animate(
                  r.$slide,
                  d,
                  t,
                  function () {
                    r.$slide
                      .removeClass(d)
                      .removeClass(
                        'fancybox-slide--next fancybox-slide--previous'
                      );
                  },
                  !1
                )),
            a.isLoaded ? h.revealContent(a) : h.loadSlide(a),
            h.preload('image');
        }
      },
      createSlide: function (e) {
        var t,
          n,
          i = this;
        return (
          (n = (n = e % i.group.length) < 0 ? i.group.length + n : n),
          !i.slides[e] &&
            i.group[n] &&
            ((t = o('<div class="fancybox-slide"></div>').appendTo(
              i.$refs.stage
            )),
            (i.slides[e] = o.extend(!0, {}, i.group[n], {
              pos: e,
              $slide: t,
              isLoaded: !1,
            })),
            i.updateSlide(i.slides[e])),
          i.slides[e]
        );
      },
      scaleToActual: function (e, t, n) {
        var i,
          s,
          a,
          r,
          c,
          l = this,
          d = l.current,
          u = d.$content,
          p = o.fancybox.getTranslate(d.$slide).width,
          h = o.fancybox.getTranslate(d.$slide).height,
          f = d.width,
          g = d.height;
        l.isAnimating ||
          l.isMoved() ||
          !u ||
          'image' != d.type ||
          !d.isLoaded ||
          d.hasError ||
          ((l.isAnimating = !0),
          o.fancybox.stop(u),
          (e = void 0 === e ? 0.5 * p : e),
          (t = void 0 === t ? 0.5 * h : t),
          ((i = o.fancybox.getTranslate(u)).top -= o.fancybox.getTranslate(
            d.$slide
          ).top),
          (i.left -= o.fancybox.getTranslate(d.$slide).left),
          (r = f / i.width),
          (c = g / i.height),
          (s = 0.5 * p - 0.5 * f),
          (a = 0.5 * h - 0.5 * g),
          f > p &&
            ((s = i.left * r - (e * r - e)) > 0 && (s = 0),
            s < p - f && (s = p - f)),
          g > h &&
            ((a = i.top * c - (t * c - t)) > 0 && (a = 0),
            a < h - g && (a = h - g)),
          l.updateCursor(f, g),
          o.fancybox.animate(
            u,
            { top: a, left: s, scaleX: r, scaleY: c },
            n || 366,
            function () {
              l.isAnimating = !1;
            }
          ),
          l.SlideShow && l.SlideShow.isActive && l.SlideShow.stop());
      },
      scaleToFit: function (e) {
        var t,
          n = this,
          i = n.current,
          s = i.$content;
        n.isAnimating ||
          n.isMoved() ||
          !s ||
          'image' != i.type ||
          !i.isLoaded ||
          i.hasError ||
          ((n.isAnimating = !0),
          o.fancybox.stop(s),
          (t = n.getFitPos(i)),
          n.updateCursor(t.width, t.height),
          o.fancybox.animate(
            s,
            {
              top: t.top,
              left: t.left,
              scaleX: t.width / s.width(),
              scaleY: t.height / s.height(),
            },
            e || 366,
            function () {
              n.isAnimating = !1;
            }
          ));
      },
      getFitPos: function (e) {
        var t,
          n,
          i,
          s,
          a = e.$content,
          r = e.$slide,
          c = e.width || e.opts.width,
          l = e.height || e.opts.height,
          d = {};
        return (
          !!(e.isLoaded && a && a.length) &&
          ((t = o.fancybox.getTranslate(this.$refs.stage).width),
          (n = o.fancybox.getTranslate(this.$refs.stage).height),
          (t -=
            parseFloat(r.css('paddingLeft')) +
            parseFloat(r.css('paddingRight')) +
            parseFloat(a.css('marginLeft')) +
            parseFloat(a.css('marginRight'))),
          (n -=
            parseFloat(r.css('paddingTop')) +
            parseFloat(r.css('paddingBottom')) +
            parseFloat(a.css('marginTop')) +
            parseFloat(a.css('marginBottom'))),
          (c && l) || ((c = t), (l = n)),
          (c *= i = Math.min(1, t / c, n / l)) > t - 0.5 && (c = t),
          (l *= i) > n - 0.5 && (l = n),
          'image' === e.type
            ? ((d.top =
                Math.floor(0.5 * (n - l)) + parseFloat(r.css('paddingTop'))),
              (d.left =
                Math.floor(0.5 * (t - c)) + parseFloat(r.css('paddingLeft'))))
            : 'video' === e.contentType &&
              (l >
              c /
                (s =
                  e.opts.width && e.opts.height
                    ? c / l
                    : e.opts.ratio || 16 / 9)
                ? (l = c / s)
                : c > l * s && (c = l * s)),
          (d.width = c),
          (d.height = l),
          d)
        );
      },
      update: function (e) {
        var t = this;
        o.each(t.slides, function (o, n) {
          t.updateSlide(n, e);
        });
      },
      updateSlide: function (e, t) {
        var n = this,
          i = e && e.$content,
          s = e.width || e.opts.width,
          a = e.height || e.opts.height,
          r = e.$slide;
        n.adjustCaption(e),
          i &&
            (s || a || 'video' === e.contentType) &&
            !e.hasError &&
            (o.fancybox.stop(i),
            o.fancybox.setTranslate(i, n.getFitPos(e)),
            e.pos === n.currPos && ((n.isAnimating = !1), n.updateCursor())),
          n.adjustLayout(e),
          r.length &&
            (r.trigger('refresh'),
            e.pos === n.currPos &&
              n.$refs.toolbar
                .add(n.$refs.navigation.find('.fancybox-button--arrow_right'))
                .toggleClass(
                  'compensate-for-scrollbar',
                  r.get(0).scrollHeight > r.get(0).clientHeight
                )),
          n.trigger('onUpdate', e, t);
      },
      centerSlide: function (e) {
        var t = this,
          n = t.current,
          i = n.$slide;
        !t.isClosing &&
          n &&
          (i.siblings().css({ transform: '', opacity: '' }),
          i
            .parent()
            .children()
            .removeClass('fancybox-slide--previous fancybox-slide--next'),
          o.fancybox.animate(
            i,
            { top: 0, left: 0, opacity: 1 },
            void 0 === e ? 0 : e,
            function () {
              i.css({ transform: '', opacity: '' }),
                n.isComplete || t.complete();
            },
            !1
          ));
      },
      isMoved: function (e) {
        var t,
          n,
          i = e || this.current;
        return (
          !!i &&
          ((n = o.fancybox.getTranslate(this.$refs.stage)),
          (t = o.fancybox.getTranslate(i.$slide)),
          !i.$slide.hasClass('fancybox-animated') &&
            (Math.abs(t.top - n.top) > 0.5 || Math.abs(t.left - n.left) > 0.5))
        );
      },
      updateCursor: function (e, t) {
        var n,
          i,
          s = this,
          a = s.current,
          r = s.$refs.container;
        a &&
          !s.isClosing &&
          s.Guestures &&
          (r.removeClass(
            'fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan'
          ),
          (i = !!(n = s.canPan(e, t)) || s.isZoomable()),
          r.toggleClass('fancybox-is-zoomable', i),
          o('[data-fancybox-zoom]').prop('disabled', !i),
          n
            ? r.addClass('fancybox-can-pan')
            : i &&
              ('zoom' === a.opts.clickContent ||
                (o.isFunction(a.opts.clickContent) &&
                  'zoom' == a.opts.clickContent(a)))
            ? r.addClass('fancybox-can-zoomIn')
            : a.opts.touch &&
              (a.opts.touch.vertical || s.group.length > 1) &&
              'video' !== a.contentType &&
              r.addClass('fancybox-can-swipe'));
      },
      isZoomable: function () {
        var e,
          t = this,
          o = t.current;
        if (o && !t.isClosing && 'image' === o.type && !o.hasError) {
          if (!o.isLoaded) return !0;
          if (
            (e = t.getFitPos(o)) &&
            (o.width > e.width || o.height > e.height)
          )
            return !0;
        }
        return !1;
      },
      isScaledDown: function (e, t) {
        var n = !1,
          i = this.current,
          s = i.$content;
        return (
          void 0 !== e && void 0 !== t
            ? (n = e < i.width && t < i.height)
            : s &&
              (n =
                (n = o.fancybox.getTranslate(s)).width < i.width &&
                n.height < i.height),
          n
        );
      },
      canPan: function (e, t) {
        var n = this.current,
          i = null,
          s = !1;
        return (
          'image' === n.type &&
            (n.isComplete || (e && t)) &&
            !n.hasError &&
            ((s = this.getFitPos(n)),
            void 0 !== e && void 0 !== t
              ? (i = { width: e, height: t })
              : n.isComplete && (i = o.fancybox.getTranslate(n.$content)),
            i &&
              s &&
              (s =
                Math.abs(i.width - s.width) > 1.5 ||
                Math.abs(i.height - s.height) > 1.5)),
          s
        );
      },
      loadSlide: function (e) {
        var t,
          n,
          i,
          s = this;
        if (!e.isLoading && !e.isLoaded) {
          if (((e.isLoading = !0), !1 === s.trigger('beforeLoad', e)))
            return (e.isLoading = !1), !1;
          switch (
            ((t = e.type),
            (n = e.$slide)
              .off('refresh')
              .trigger('onReset')
              .addClass(e.opts.slideClass),
            t)
          ) {
            case 'image':
              s.setImage(e);
              break;
            case 'iframe':
              s.setIframe(e);
              break;
            case 'html':
              s.setContent(e, e.src || e.content);
              break;
            case 'video':
              s.setContent(
                e,
                e.opts.video.tpl
                  .replace(/\{\{src\}\}/gi, e.src)
                  .replace(
                    '{{format}}',
                    e.opts.videoFormat || e.opts.video.format || ''
                  )
                  .replace('{{poster}}', e.thumb || '')
              );
              break;
            case 'inline':
              o(e.src).length ? s.setContent(e, o(e.src)) : s.setError(e);
              break;
            case 'ajax':
              s.showLoading(e),
                (i = o.ajax(
                  o.extend({}, e.opts.ajax.settings, {
                    url: e.src,
                    success: function (t, o) {
                      'success' === o && s.setContent(e, t);
                    },
                    error: function (t, o) {
                      t && 'abort' !== o && s.setError(e);
                    },
                  })
                )),
                n.one('onReset', function () {
                  i.abort();
                });
              break;
            default:
              s.setError(e);
          }
          return !0;
        }
      },
      setImage: function (e) {
        var n,
          i = this;
        setTimeout(function () {
          var t = e.$image;
          i.isClosing ||
            !e.isLoading ||
            (t && t.length && t[0].complete) ||
            e.hasError ||
            i.showLoading(e);
        }, 50),
          i.checkSrcset(e),
          (e.$content = o('<div class="fancybox-content"></div>')
            .addClass('fancybox-is-hidden')
            .appendTo(e.$slide.addClass('fancybox-slide--image'))),
          !1 !== e.opts.preload &&
            e.opts.width &&
            e.opts.height &&
            e.thumb &&
            ((e.width = e.opts.width),
            (e.height = e.opts.height),
            ((n = t.createElement('img')).onerror = function () {
              o(this).remove(), (e.$ghost = null);
            }),
            (n.onload = function () {
              i.afterLoad(e);
            }),
            (e.$ghost = o(n)
              .addClass('fancybox-image')
              .appendTo(e.$content)
              .attr('src', e.thumb))),
          i.setBigImage(e);
      },
      checkSrcset: function (t) {
        var o,
          n,
          i,
          s,
          a = t.opts.srcset || t.opts.image.srcset;
        if (a) {
          (i = e.devicePixelRatio || 1),
            (s = e.innerWidth * i),
            (n = a.split(',').map(function (e) {
              var t = {};
              return (
                e
                  .trim()
                  .split(/\s+/)
                  .forEach(function (e, o) {
                    var n = parseInt(e.substring(0, e.length - 1), 10);
                    if (0 === o) return (t.url = e);
                    n && ((t.value = n), (t.postfix = e[e.length - 1]));
                  }),
                t
              );
            })),
            n.sort(function (e, t) {
              return e.value - t.value;
            });
          for (var r = 0; r < n.length; r++) {
            var c = n[r];
            if (
              ('w' === c.postfix && c.value >= s) ||
              ('x' === c.postfix && c.value >= i)
            ) {
              o = c;
              break;
            }
          }
          !o && n.length && (o = n[n.length - 1]),
            o &&
              ((t.src = o.url),
              t.width &&
                t.height &&
                'w' == o.postfix &&
                ((t.height = (t.width / t.height) * o.value),
                (t.width = o.value)),
              (t.opts.srcset = a));
        }
      },
      setBigImage: function (e) {
        var n = this,
          i = t.createElement('img'),
          s = o(i);
        (e.$image = s
          .one('error', function () {
            n.setError(e);
          })
          .one('load', function () {
            var t;
            e.$ghost ||
              (n.resolveImageSlideSize(
                e,
                this.naturalWidth,
                this.naturalHeight
              ),
              n.afterLoad(e)),
              n.isClosing ||
                (e.opts.srcset &&
                  (((t = e.opts.sizes) && 'auto' !== t) ||
                    (t =
                      (e.width / e.height > 1 && a.width() / a.height() > 1
                        ? '100'
                        : Math.round((e.width / e.height) * 100)) + 'vw'),
                  s.attr('sizes', t).attr('srcset', e.opts.srcset)),
                e.$ghost &&
                  setTimeout(function () {
                    e.$ghost && !n.isClosing && e.$ghost.hide();
                  }, Math.min(300, Math.max(1e3, e.height / 1600))),
                n.hideLoading(e));
          })
          .addClass('fancybox-image')
          .attr('src', e.src)
          .appendTo(e.$content)),
          (i.complete || 'complete' == i.readyState) &&
          s.naturalWidth &&
          s.naturalHeight
            ? s.trigger('load')
            : i.error && s.trigger('error');
      },
      resolveImageSlideSize: function (e, t, o) {
        var n = parseInt(e.opts.width, 10),
          i = parseInt(e.opts.height, 10);
        (e.width = t),
          (e.height = o),
          n > 0 && ((e.width = n), (e.height = Math.floor((n * o) / t))),
          i > 0 && ((e.width = Math.floor((i * t) / o)), (e.height = i));
      },
      setIframe: function (e) {
        var t,
          n = this,
          i = e.opts.iframe,
          s = e.$slide;
        (e.$content = o(
          '<div class="fancybox-content' +
            (i.preload ? ' fancybox-is-hidden' : '') +
            '"></div>'
        )
          .css(i.css)
          .appendTo(s)),
          s.addClass('fancybox-slide--' + e.contentType),
          (e.$iframe = t =
            o(i.tpl.replace(/\{rnd\}/g, new Date().getTime()))
              .attr(i.attr)
              .appendTo(e.$content)),
          i.preload
            ? (n.showLoading(e),
              t.on('load.fb error.fb', function (t) {
                (this.isReady = 1), e.$slide.trigger('refresh'), n.afterLoad(e);
              }),
              s.on('refresh.fb', function () {
                var o,
                  n = e.$content,
                  a = i.css.width,
                  r = i.css.height;
                if (1 === t[0].isReady) {
                  try {
                    o = t.contents().find('body');
                  } catch (e) {}
                  o &&
                    o.length &&
                    o.children().length &&
                    (s.css('overflow', 'visible'),
                    n.css({
                      width: '100%',
                      'max-width': '100%',
                      height: '9999px',
                    }),
                    void 0 === a &&
                      (a = Math.ceil(
                        Math.max(o[0].clientWidth, o.outerWidth(!0))
                      )),
                    n.css('width', a || '').css('max-width', ''),
                    void 0 === r &&
                      (r = Math.ceil(
                        Math.max(o[0].clientHeight, o.outerHeight(!0))
                      )),
                    n.css('height', r || ''),
                    s.css('overflow', 'auto')),
                    n.removeClass('fancybox-is-hidden');
                }
              }))
            : n.afterLoad(e),
          t.attr('src', e.src),
          s.one('onReset', function () {
            try {
              o(this)
                .find('iframe')
                .hide()
                .unbind()
                .attr('src', '//about:blank');
            } catch (e) {}
            o(this).off('refresh.fb').empty(),
              (e.isLoaded = !1),
              (e.isRevealed = !1);
          });
      },
      setContent: function (e, t) {
        var n = this;
        n.isClosing ||
          (n.hideLoading(e),
          e.$content && o.fancybox.stop(e.$content),
          e.$slide.empty(),
          (function (e) {
            return e && e.hasOwnProperty && e instanceof o;
          })(t) && t.parent().length
            ? ((t.hasClass('fancybox-content') ||
                t.parent().hasClass('fancybox-content')) &&
                t.parents('.fancybox-slide').trigger('onReset'),
              (e.$placeholder = o('<div>').hide().insertAfter(t)),
              t.css('display', 'inline-block'))
            : e.hasError ||
              ('string' === o.type(t) &&
                (t = o('<div>').append(o.trim(t)).contents()),
              e.opts.filter && (t = o('<div>').html(t).find(e.opts.filter))),
          e.$slide.one('onReset', function () {
            o(this).find('video,audio').trigger('pause'),
              e.$placeholder &&
                (e.$placeholder
                  .after(t.removeClass('fancybox-content').hide())
                  .remove(),
                (e.$placeholder = null)),
              e.$smallBtn && (e.$smallBtn.remove(), (e.$smallBtn = null)),
              e.hasError ||
                (o(this).empty(), (e.isLoaded = !1), (e.isRevealed = !1));
          }),
          o(t).appendTo(e.$slide),
          o(t).is('video,audio') &&
            (o(t).addClass('fancybox-video'),
            o(t).wrap('<div></div>'),
            (e.contentType = 'video'),
            (e.opts.width = e.opts.width || o(t).attr('width')),
            (e.opts.height = e.opts.height || o(t).attr('height'))),
          (e.$content = e.$slide
            .children()
            .filter('div,form,main,video,audio,article,.fancybox-content')
            .first()),
          e.$content.siblings().hide(),
          e.$content.length ||
            (e.$content = e.$slide.wrapInner('<div></div>').children().first()),
          e.$content.addClass('fancybox-content'),
          e.$slide.addClass('fancybox-slide--' + e.contentType),
          n.afterLoad(e));
      },
      setError: function (e) {
        (e.hasError = !0),
          e.$slide
            .trigger('onReset')
            .removeClass('fancybox-slide--' + e.contentType)
            .addClass('fancybox-slide--error'),
          (e.contentType = 'html'),
          this.setContent(e, this.translate(e, e.opts.errorTpl)),
          e.pos === this.currPos && (this.isAnimating = !1);
      },
      showLoading: function (e) {
        var t = this;
        (e = e || t.current) &&
          !e.$spinner &&
          (e.$spinner = o(t.translate(t, t.opts.spinnerTpl))
            .appendTo(e.$slide)
            .hide()
            .fadeIn('fast'));
      },
      hideLoading: function (e) {
        (e = e || this.current) &&
          e.$spinner &&
          (e.$spinner.stop().remove(), delete e.$spinner);
      },
      afterLoad: function (e) {
        var t = this;
        t.isClosing ||
          ((e.isLoading = !1),
          (e.isLoaded = !0),
          t.trigger('afterLoad', e),
          t.hideLoading(e),
          !e.opts.smallBtn ||
            (e.$smallBtn && e.$smallBtn.length) ||
            (e.$smallBtn = o(t.translate(e, e.opts.btnTpl.smallBtn)).appendTo(
              e.$content
            )),
          e.opts.protect &&
            e.$content &&
            !e.hasError &&
            (e.$content.on('contextmenu.fb', function (e) {
              return 2 == e.button && e.preventDefault(), !0;
            }),
            'image' === e.type &&
              o('<div class="fancybox-spaceball"></div>').appendTo(e.$content)),
          t.adjustCaption(e),
          t.adjustLayout(e),
          e.pos === t.currPos && t.updateCursor(),
          t.revealContent(e));
      },
      adjustCaption: function (e) {
        var t,
          o = this,
          n = e || o.current,
          i = n.opts.caption,
          s = n.opts.preventCaptionOverlap,
          a = o.$refs.caption,
          r = !1;
        a.toggleClass('fancybox-caption--separate', s),
          s &&
            i &&
            i.length &&
            (n.pos !== o.currPos
              ? ((t = a.clone().appendTo(a.parent()))
                  .children()
                  .eq(0)
                  .empty()
                  .html(i),
                (r = t.outerHeight(!0)),
                t.empty().remove())
              : o.$caption && (r = o.$caption.outerHeight(!0)),
            n.$slide.css('padding-bottom', r || ''));
      },
      adjustLayout: function (e) {
        var t,
          o,
          n,
          i,
          s = e || this.current;
        s.isLoaded &&
          !0 !== s.opts.disableLayoutFix &&
          (s.$content.css('margin-bottom', ''),
          s.$content.outerHeight() > s.$slide.height() + 0.5 &&
            ((n = s.$slide[0].style['padding-bottom']),
            (i = s.$slide.css('padding-bottom')),
            parseFloat(i) > 0 &&
              ((t = s.$slide[0].scrollHeight),
              s.$slide.css('padding-bottom', 0),
              Math.abs(t - s.$slide[0].scrollHeight) < 1 && (o = i),
              s.$slide.css('padding-bottom', n))),
          s.$content.css('margin-bottom', o));
      },
      revealContent: function (e) {
        var t,
          n,
          i,
          s,
          a = this,
          r = e.$slide,
          c = !1,
          l = !1,
          d = a.isMoved(e),
          u = e.isRevealed;
        return (
          (e.isRevealed = !0),
          (t = e.opts[a.firstRun ? 'animationEffect' : 'transitionEffect']),
          (i = e.opts[a.firstRun ? 'animationDuration' : 'transitionDuration']),
          (i = parseInt(
            void 0 === e.forcedDuration ? i : e.forcedDuration,
            10
          )),
          (!d && e.pos === a.currPos && i) || (t = !1),
          'zoom' === t &&
            (e.pos === a.currPos &&
            i &&
            'image' === e.type &&
            !e.hasError &&
            (l = a.getThumbPos(e))
              ? (c = a.getFitPos(e))
              : (t = 'fade')),
          'zoom' === t
            ? ((a.isAnimating = !0),
              (c.scaleX = c.width / l.width),
              (c.scaleY = c.height / l.height),
              'auto' == (s = e.opts.zoomOpacity) &&
                (s = Math.abs(e.width / e.height - l.width / l.height) > 0.1),
              s && ((l.opacity = 0.1), (c.opacity = 1)),
              o.fancybox.setTranslate(
                e.$content.removeClass('fancybox-is-hidden'),
                l
              ),
              p(e.$content),
              void o.fancybox.animate(e.$content, c, i, function () {
                (a.isAnimating = !1), a.complete();
              }))
            : (a.updateSlide(e),
              t
                ? (o.fancybox.stop(r),
                  (n =
                    'fancybox-slide--' +
                    (e.pos >= a.prevPos ? 'next' : 'previous') +
                    ' fancybox-animated fancybox-fx-' +
                    t),
                  r.addClass(n).removeClass('fancybox-slide--current'),
                  e.$content.removeClass('fancybox-is-hidden'),
                  p(r),
                  'image' !== e.type && e.$content.hide().show(0),
                  void o.fancybox.animate(
                    r,
                    'fancybox-slide--current',
                    i,
                    function () {
                      r.removeClass(n).css({ transform: '', opacity: '' }),
                        e.pos === a.currPos && a.complete();
                    },
                    !0
                  ))
                : (e.$content.removeClass('fancybox-is-hidden'),
                  u ||
                    !d ||
                    'image' !== e.type ||
                    e.hasError ||
                    e.$content.hide().fadeIn('fast'),
                  void (e.pos === a.currPos && a.complete())))
        );
      },
      getThumbPos: function (e) {
        var t,
          n,
          i,
          s,
          a,
          r = !1,
          c = e.$thumb;
        return (
          !(!c || !f(c[0])) &&
          ((t = o.fancybox.getTranslate(c)),
          (n = parseFloat(c.css('border-top-width') || 0)),
          (i = parseFloat(c.css('border-right-width') || 0)),
          (s = parseFloat(c.css('border-bottom-width') || 0)),
          (a = parseFloat(c.css('border-left-width') || 0)),
          (r = {
            top: t.top + n,
            left: t.left + a,
            width: t.width - i - a,
            height: t.height - n - s,
            scaleX: 1,
            scaleY: 1,
          }),
          t.width > 0 && t.height > 0 && r)
        );
      },
      complete: function () {
        var e,
          t = this,
          n = t.current,
          i = {};
        !t.isMoved() &&
          n.isLoaded &&
          (n.isComplete ||
            ((n.isComplete = !0),
            n.$slide.siblings().trigger('onReset'),
            t.preload('inline'),
            p(n.$slide),
            n.$slide.addClass('fancybox-slide--complete'),
            o.each(t.slides, function (e, n) {
              n.pos >= t.currPos - 1 && n.pos <= t.currPos + 1
                ? (i[n.pos] = n)
                : n && (o.fancybox.stop(n.$slide), n.$slide.off().remove());
            }),
            (t.slides = i)),
          (t.isAnimating = !1),
          t.updateCursor(),
          t.trigger('afterShow'),
          n.opts.video.autoStart &&
            n.$slide
              .find('video,audio')
              .filter(':visible:first')
              .trigger('play')
              .one('ended', function () {
                Document.exitFullscreen
                  ? Document.exitFullscreen()
                  : this.webkitExitFullscreen && this.webkitExitFullscreen(),
                  t.next();
              }),
          n.opts.autoFocus &&
            'html' === n.contentType &&
            ((e = n.$content.find('input[autofocus]:enabled:visible:first'))
              .length
              ? e.trigger('focus')
              : t.focus(null, !0)),
          n.$slide.scrollTop(0).scrollLeft(0));
      },
      preload: function (e) {
        var t,
          o,
          n = this;
        n.group.length < 2 ||
          ((o = n.slides[n.currPos + 1]),
          (t = n.slides[n.currPos - 1]) && t.type === e && n.loadSlide(t),
          o && o.type === e && n.loadSlide(o));
      },
      focus: function (e, n) {
        var i,
          s,
          a = this,
          r = [
            'a[href]',
            'area[href]',
            'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',
            'select:not([disabled]):not([aria-hidden])',
            'textarea:not([disabled]):not([aria-hidden])',
            'button:not([disabled]):not([aria-hidden])',
            'iframe',
            'object',
            'embed',
            'video',
            'audio',
            '[contenteditable]',
            '[tabindex]:not([tabindex^="-"])',
          ].join(',');
        a.isClosing ||
          ((i = (i =
            !e && a.current && a.current.isComplete
              ? a.current.$slide.find(
                  '*:visible' + (n ? ':not(.fancybox-close-small)' : '')
                )
              : a.$refs.container.find('*:visible'))
            .filter(r)
            .filter(function () {
              return (
                'hidden' !== o(this).css('visibility') &&
                !o(this).hasClass('disabled')
              );
            })).length
            ? ((s = i.index(t.activeElement)),
              e && e.shiftKey
                ? (s < 0 || 0 == s) &&
                  (e.preventDefault(), i.eq(i.length - 1).trigger('focus'))
                : (s < 0 || s == i.length - 1) &&
                  (e && e.preventDefault(), i.eq(0).trigger('focus')))
            : a.$refs.container.trigger('focus'));
      },
      activate: function () {
        var e = this;
        o('.fancybox-container').each(function () {
          var t = o(this).data('FancyBox');
          t &&
            t.id !== e.id &&
            !t.isClosing &&
            (t.trigger('onDeactivate'), t.removeEvents(), (t.isVisible = !1));
        }),
          (e.isVisible = !0),
          (e.current || e.isIdle) && (e.update(), e.updateControls()),
          e.trigger('onActivate'),
          e.addEvents();
      },
      close: function (e, t) {
        var n,
          i,
          s,
          a,
          r,
          c,
          d,
          u = this,
          h = u.current,
          f = function () {
            u.cleanUp(e);
          };
        return !(
          u.isClosing ||
          ((u.isClosing = !0),
          !1 === u.trigger('beforeClose', e)
            ? ((u.isClosing = !1),
              l(function () {
                u.update();
              }),
              1)
            : (u.removeEvents(),
              (s = h.$content),
              (n = h.opts.animationEffect),
              (i = o.isNumeric(t) ? t : n ? h.opts.animationDuration : 0),
              h.$slide.removeClass(
                'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated'
              ),
              !0 !== e ? o.fancybox.stop(h.$slide) : (n = !1),
              h.$slide.siblings().trigger('onReset').remove(),
              i &&
                u.$refs.container
                  .removeClass('fancybox-is-open')
                  .addClass('fancybox-is-closing')
                  .css('transition-duration', i + 'ms'),
              u.hideLoading(h),
              u.hideControls(!0),
              u.updateCursor(),
              'zoom' !== n ||
                (s &&
                  i &&
                  'image' === h.type &&
                  !u.isMoved() &&
                  !h.hasError &&
                  (d = u.getThumbPos(h))) ||
                (n = 'fade'),
              'zoom' === n
                ? (o.fancybox.stop(s),
                  (a = o.fancybox.getTranslate(s)),
                  (c = {
                    top: a.top,
                    left: a.left,
                    scaleX: a.width / d.width,
                    scaleY: a.height / d.height,
                    width: d.width,
                    height: d.height,
                  }),
                  (r = h.opts.zoomOpacity),
                  'auto' == r &&
                    (r =
                      Math.abs(h.width / h.height - d.width / d.height) > 0.1),
                  r && (d.opacity = 0),
                  o.fancybox.setTranslate(s, c),
                  p(s),
                  o.fancybox.animate(s, d, i, f),
                  0)
                : (n && i
                    ? o.fancybox.animate(
                        h.$slide
                          .addClass('fancybox-slide--previous')
                          .removeClass('fancybox-slide--current'),
                        'fancybox-animated fancybox-fx-' + n,
                        i,
                        f
                      )
                    : !0 === e
                    ? setTimeout(f, i)
                    : f(),
                  0)))
        );
      },
      cleanUp: function (t) {
        var n,
          i,
          s,
          a = this,
          r = a.current.opts.$orig;
        a.current.$slide.trigger('onReset'),
          a.$refs.container.empty().remove(),
          a.trigger('afterClose', t),
          a.current.opts.backFocus &&
            ((r && r.length && r.is(':visible')) || (r = a.$trigger),
            r &&
              r.length &&
              ((i = e.scrollX),
              (s = e.scrollY),
              r.trigger('focus'),
              o('html, body').scrollTop(s).scrollLeft(i))),
          (a.current = null),
          (n = o.fancybox.getInstance())
            ? n.activate()
            : (o('body').removeClass(
                'fancybox-active compensate-for-scrollbar'
              ),
              o('#fancybox-style-noscroll').remove());
      },
      trigger: function (e, t) {
        var n,
          i = Array.prototype.slice.call(arguments, 1),
          s = this,
          a = t && t.opts ? t : s.current;
        if (
          (a ? i.unshift(a) : (a = s),
          i.unshift(s),
          o.isFunction(a.opts[e]) && (n = a.opts[e].apply(a, i)),
          !1 === n)
        )
          return n;
        'afterClose' !== e && s.$refs
          ? s.$refs.container.trigger(e + '.fb', i)
          : r.trigger(e + '.fb', i);
      },
      updateControls: function () {
        var e = this,
          n = e.current,
          i = n.index,
          s = e.$refs.container,
          a = e.$refs.caption,
          r = n.opts.caption;
        n.$slide.trigger('refresh'),
          r && r.length
            ? ((e.$caption = a), a.children().eq(0).html(r))
            : (e.$caption = null),
          e.hasHiddenControls || e.isIdle || e.showControls(),
          s.find('[data-fancybox-count]').html(e.group.length),
          s.find('[data-fancybox-index]').html(i + 1),
          s
            .find('[data-fancybox-prev]')
            .prop('disabled', !n.opts.loop && i <= 0),
          s
            .find('[data-fancybox-next]')
            .prop('disabled', !n.opts.loop && i >= e.group.length - 1),
          'image' === n.type
            ? s
                .find('[data-fancybox-zoom]')
                .show()
                .end()
                .find('[data-fancybox-download]')
                .attr('href', n.opts.image.src || n.src)
                .show()
            : n.opts.toolbar &&
              s.find('[data-fancybox-download],[data-fancybox-zoom]').hide(),
          o(t.activeElement).is(':hidden,[disabled]') &&
            e.$refs.container.trigger('focus');
      },
      hideControls: function (e) {
        var t = ['infobar', 'toolbar', 'nav'];
        (!e && this.current.opts.preventCaptionOverlap) || t.push('caption'),
          this.$refs.container.removeClass(
            t
              .map(function (e) {
                return 'fancybox-show-' + e;
              })
              .join(' ')
          ),
          (this.hasHiddenControls = !0);
      },
      showControls: function () {
        var e = this,
          t = e.current ? e.current.opts : e.opts,
          o = e.$refs.container;
        (e.hasHiddenControls = !1),
          (e.idleSecondsCounter = 0),
          o
            .toggleClass('fancybox-show-toolbar', !(!t.toolbar || !t.buttons))
            .toggleClass(
              'fancybox-show-infobar',
              !!(t.infobar && e.group.length > 1)
            )
            .toggleClass('fancybox-show-caption', !!e.$caption)
            .toggleClass(
              'fancybox-show-nav',
              !!(t.arrows && e.group.length > 1)
            )
            .toggleClass('fancybox-is-modal', !!t.modal);
      },
      toggleControls: function () {
        this.hasHiddenControls ? this.showControls() : this.hideControls();
      },
    }),
      (o.fancybox = {
        version: '3.5.7',
        defaults: s,
        getInstance: function (e) {
          var t = o(
              '.fancybox-container:not(".fancybox-is-closing"):last'
            ).data('FancyBox'),
            n = Array.prototype.slice.call(arguments, 1);
          return (
            t instanceof g &&
            ('string' === o.type(e)
              ? t[e].apply(t, n)
              : 'function' === o.type(e) && e.apply(t, n),
            t)
          );
        },
        open: function (e, t, o) {
          return new g(e, t, o);
        },
        close: function (e) {
          var t = this.getInstance();
          t && (t.close(), !0 === e && this.close(e));
        },
        destroy: function () {
          this.close(!0), r.add('body').off('click.fb-start', '**');
        },
        isMobile:
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          ),
        use3d: (function () {
          var o = t.createElement('div');
          return (
            e.getComputedStyle &&
            e.getComputedStyle(o) &&
            e.getComputedStyle(o).getPropertyValue('transform') &&
            !(t.documentMode && t.documentMode < 11)
          );
        })(),
        getTranslate: function (e) {
          var t;
          return (
            !(!e || !e.length) && {
              top: (t = e[0].getBoundingClientRect()).top || 0,
              left: t.left || 0,
              width: t.width,
              height: t.height,
              opacity: parseFloat(e.css('opacity')),
            }
          );
        },
        setTranslate: function (e, t) {
          var o = '',
            n = {};
          if (e && t)
            return (
              (void 0 === t.left && void 0 === t.top) ||
                ((o =
                  (void 0 === t.left ? e.position().left : t.left) +
                  'px, ' +
                  (void 0 === t.top ? e.position().top : t.top) +
                  'px'),
                (o = this.use3d
                  ? 'translate3d(' + o + ', 0px)'
                  : 'translate(' + o + ')')),
              void 0 !== t.scaleX && void 0 !== t.scaleY
                ? (o += ' scale(' + t.scaleX + ', ' + t.scaleY + ')')
                : void 0 !== t.scaleX && (o += ' scaleX(' + t.scaleX + ')'),
              o.length && (n.transform = o),
              void 0 !== t.opacity && (n.opacity = t.opacity),
              void 0 !== t.width && (n.width = t.width),
              void 0 !== t.height && (n.height = t.height),
              e.css(n)
            );
        },
        animate: function (e, t, n, i, s) {
          var a,
            r = this;
          o.isFunction(n) && ((i = n), (n = null)),
            r.stop(e),
            (a = r.getTranslate(e)),
            e.on(u, function (c) {
              (!c ||
                !c.originalEvent ||
                (e.is(c.originalEvent.target) &&
                  'z-index' != c.originalEvent.propertyName)) &&
                (r.stop(e),
                o.isNumeric(n) && e.css('transition-duration', ''),
                o.isPlainObject(t)
                  ? void 0 !== t.scaleX &&
                    void 0 !== t.scaleY &&
                    r.setTranslate(e, {
                      top: t.top,
                      left: t.left,
                      width: a.width * t.scaleX,
                      height: a.height * t.scaleY,
                      scaleX: 1,
                      scaleY: 1,
                    })
                  : !0 !== s && e.removeClass(t),
                o.isFunction(i) && i(c));
            }),
            o.isNumeric(n) && e.css('transition-duration', n + 'ms'),
            o.isPlainObject(t)
              ? (void 0 !== t.scaleX &&
                  void 0 !== t.scaleY &&
                  (delete t.width,
                  delete t.height,
                  e.parent().hasClass('fancybox-slide--image') &&
                    e.parent().addClass('fancybox-is-scaling')),
                o.fancybox.setTranslate(e, t))
              : e.addClass(t),
            e.data(
              'timer',
              setTimeout(function () {
                e.trigger(u);
              }, n + 33)
            );
        },
        stop: function (e, t) {
          e &&
            e.length &&
            (clearTimeout(e.data('timer')),
            t && e.trigger(u),
            e.off(u).css('transition-duration', ''),
            e.parent().removeClass('fancybox-is-scaling'));
        },
      }),
      (o.fn.fancybox = function (e) {
        var t;
        return (
          (t = (e = e || {}).selector || !1)
            ? o('body')
                .off('click.fb-start', t)
                .on('click.fb-start', t, { options: e }, i)
            : this.off('click.fb-start').on(
                'click.fb-start',
                { items: this, options: e },
                i
              ),
          this
        );
      }),
      r.on('click.fb-start', '[data-fancybox]', i),
      r.on('click.fb-start', '[data-fancybox-trigger]', function (e) {
        o('[data-fancybox="' + o(this).attr('data-fancybox-trigger') + '"]')
          .eq(o(this).attr('data-fancybox-index') || 0)
          .trigger('click.fb-start', { $trigger: o(this) });
      }),
      (function () {
        var e = null;
        r.on('mousedown mouseup focus blur', '.fancybox-button', function (t) {
          switch (t.type) {
            case 'mousedown':
              e = o(this);
              break;
            case 'mouseup':
              e = null;
              break;
            case 'focusin':
              o('.fancybox-button').removeClass('fancybox-focus'),
                o(this).is(e) ||
                  o(this).is('[disabled]') ||
                  o(this).addClass('fancybox-focus');
              break;
            case 'focusout':
              o('.fancybox-button').removeClass('fancybox-focus');
          }
        });
      })();
  }
})(window, document, jQuery),
  (function (e) {
    'use strict';
    var t = {
        youtube: {
          matcher:
            /(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,
          params: {
            autoplay: 1,
            autohide: 1,
            fs: 1,
            rel: 0,
            hd: 1,
            wmode: 'transparent',
            enablejsapi: 1,
            html5: 1,
          },
          paramPlace: 8,
          type: 'iframe',
          url: 'https://www.youtube-nocookie.com/embed/$4',
          thumb: 'https://img.youtube.com/vi/$4/hqdefault.jpg',
        },
        vimeo: {
          matcher: /^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,
          params: {
            autoplay: 1,
            hd: 1,
            show_title: 1,
            show_byline: 1,
            show_portrait: 0,
            fullscreen: 1,
          },
          paramPlace: 3,
          type: 'iframe',
          url: '//player.vimeo.com/video/$2',
        },
        instagram: {
          matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,
          type: 'image',
          url: '//$1/p/$2/media/?size=l',
        },
        gmap_place: {
          matcher:
            /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,
          type: 'iframe',
          url: function (e) {
            return (
              '//maps.google.' +
              e[2] +
              '/?ll=' +
              (e[9]
                ? e[9] +
                  '&z=' +
                  Math.floor(e[10]) +
                  (e[12] ? e[12].replace(/^\//, '&') : '')
                : e[12] + ''
              ).replace(/\?/, '&') +
              '&output=' +
              (e[12] && e[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed')
            );
          },
        },
        gmap_search: {
          matcher:
            /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,
          type: 'iframe',
          url: function (e) {
            return (
              '//maps.google.' +
              e[2] +
              '/maps?q=' +
              e[5].replace('query=', 'q=').replace('api=1', '') +
              '&output=embed'
            );
          },
        },
      },
      o = function (t, o, n) {
        if (t)
          return (
            (n = n || ''),
            'object' === e.type(n) && (n = e.param(n, !0)),
            e.each(o, function (e, o) {
              t = t.replace('$' + e, o || '');
            }),
            n.length && (t += (t.indexOf('?') > 0 ? '&' : '?') + n),
            t
          );
      };
    e(document).on('objectNeedsType.fb', function (n, i, s) {
      var a,
        r,
        c,
        l,
        d,
        u,
        p,
        h = s.src || '',
        f = !1;
      (a = e.extend(!0, {}, t, s.opts.media)),
        e.each(a, function (t, n) {
          if ((c = h.match(n.matcher))) {
            if (
              ((f = n.type), (p = t), (u = {}), n.paramPlace && c[n.paramPlace])
            ) {
              '?' == (d = c[n.paramPlace])[0] && (d = d.substring(1)),
                (d = d.split('&'));
              for (var i = 0; i < d.length; ++i) {
                var a = d[i].split('=', 2);
                2 == a.length &&
                  (u[a[0]] = decodeURIComponent(a[1].replace(/\+/g, ' ')));
              }
            }
            return (
              (l = e.extend(!0, {}, n.params, s.opts[t], u)),
              (h =
                'function' === e.type(n.url)
                  ? n.url.call(this, c, l, s)
                  : o(n.url, c, l)),
              (r =
                'function' === e.type(n.thumb)
                  ? n.thumb.call(this, c, l, s)
                  : o(n.thumb, c)),
              'youtube' === t
                ? (h = h.replace(/&t=((\d+)m)?(\d+)s/, function (e, t, o, n) {
                    return (
                      '&start=' +
                      ((o ? 60 * parseInt(o, 10) : 0) + parseInt(n, 10))
                    );
                  }))
                : 'vimeo' === t && (h = h.replace('&%23', '#')),
              !1
            );
          }
        }),
        f
          ? (s.opts.thumb ||
              (s.opts.$thumb && s.opts.$thumb.length) ||
              (s.opts.thumb = r),
            'iframe' === f &&
              (s.opts = e.extend(!0, s.opts, {
                iframe: { preload: !1, attr: { scrolling: 'no' } },
              })),
            e.extend(s, {
              type: f,
              src: h,
              origSrc: s.src,
              contentSource: p,
              contentType:
                'image' === f
                  ? 'image'
                  : 'gmap_place' == p || 'gmap_search' == p
                  ? 'map'
                  : 'video',
            }))
          : h && (s.type = s.opts.defaultType);
    });
    var n = {
      youtube: {
        src: 'https://www.youtube.com/iframe_api',
        class: 'YT',
        loading: !1,
        loaded: !1,
      },
      vimeo: {
        src: 'https://player.vimeo.com/api/player.js',
        class: 'Vimeo',
        loading: !1,
        loaded: !1,
      },
      load: function (e) {
        var t,
          o = this;
        this[e].loaded
          ? setTimeout(function () {
              o.done(e);
            })
          : this[e].loading ||
            ((this[e].loading = !0),
            ((t = document.createElement('script')).type = 'text/javascript'),
            (t.src = this[e].src),
            'youtube' === e
              ? (window.onYouTubeIframeAPIReady = function () {
                  (o[e].loaded = !0), o.done(e);
                })
              : (t.onload = function () {
                  (o[e].loaded = !0), o.done(e);
                }),
            document.body.appendChild(t));
      },
      done: function (t) {
        var o, n;
        'youtube' === t && delete window.onYouTubeIframeAPIReady,
          (o = e.fancybox.getInstance()) &&
            ((n = o.current.$content.find('iframe')),
            'youtube' === t && void 0 !== YT && YT
              ? new YT.Player(n.attr('id'), {
                  events: {
                    onStateChange: function (e) {
                      0 == e.data && o.next();
                    },
                  },
                })
              : 'vimeo' === t &&
                void 0 !== Vimeo &&
                Vimeo &&
                new Vimeo.Player(n).on('ended', function () {
                  o.next();
                }));
      },
    };
    e(document).on({
      'afterShow.fb': function (e, t, o) {
        t.group.length > 1 &&
          ('youtube' === o.contentSource || 'vimeo' === o.contentSource) &&
          n.load(o.contentSource);
      },
    });
  })(jQuery),
  (function (e, t, o) {
    'use strict';
    var n =
        e.requestAnimationFrame ||
        e.webkitRequestAnimationFrame ||
        e.mozRequestAnimationFrame ||
        e.oRequestAnimationFrame ||
        function (t) {
          return e.setTimeout(t, 1e3 / 60);
        },
      i =
        e.cancelAnimationFrame ||
        e.webkitCancelAnimationFrame ||
        e.mozCancelAnimationFrame ||
        e.oCancelAnimationFrame ||
        function (t) {
          e.clearTimeout(t);
        },
      s = function (t) {
        var o = [];
        for (var n in (t =
          (t = t.originalEvent || t || e.e).touches && t.touches.length
            ? t.touches
            : t.changedTouches && t.changedTouches.length
            ? t.changedTouches
            : [t]))
          t[n].pageX
            ? o.push({ x: t[n].pageX, y: t[n].pageY })
            : t[n].clientX && o.push({ x: t[n].clientX, y: t[n].clientY });
        return o;
      },
      a = function (e, t, o) {
        return t && e
          ? 'x' === o
            ? e.x - t.x
            : 'y' === o
            ? e.y - t.y
            : Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2))
          : 0;
      },
      r = function (e) {
        if (
          e.is(
            'a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe'
          ) ||
          o.isFunction(e.get(0).onclick) ||
          e.data('selectable')
        )
          return !0;
        for (var t = 0, n = e[0].attributes, i = n.length; t < i; t++)
          if ('data-fancybox-' === n[t].nodeName.substr(0, 14)) return !0;
        return !1;
      },
      c = function (t) {
        var o = e.getComputedStyle(t)['overflow-y'],
          n = e.getComputedStyle(t)['overflow-x'],
          i =
            ('scroll' === o || 'auto' === o) && t.scrollHeight > t.clientHeight,
          s = ('scroll' === n || 'auto' === n) && t.scrollWidth > t.clientWidth;
        return i || s;
      },
      l = function (e) {
        for (
          var t = !1;
          !(t = c(e.get(0))) &&
          (e = e.parent()).length &&
          !e.hasClass('fancybox-stage') &&
          !e.is('body');

        );
        return t;
      },
      d = function (e) {
        var t = this;
        (t.instance = e),
          (t.$bg = e.$refs.bg),
          (t.$stage = e.$refs.stage),
          (t.$container = e.$refs.container),
          t.destroy(),
          t.$container.on(
            'touchstart.fb.touch mousedown.fb.touch',
            o.proxy(t, 'ontouchstart')
          );
      };
    (d.prototype.destroy = function () {
      var e = this;
      e.$container.off('.fb.touch'),
        o(t).off('.fb.touch'),
        e.requestId && (i(e.requestId), (e.requestId = null)),
        e.tapped && (clearTimeout(e.tapped), (e.tapped = null));
    }),
      (d.prototype.ontouchstart = function (n) {
        var i = this,
          c = o(n.target),
          d = i.instance,
          u = d.current,
          p = u.$slide,
          h = u.$content,
          f = 'touchstart' == n.type;
        if (
          (f && i.$container.off('mousedown.fb.touch'),
          (!n.originalEvent || 2 != n.originalEvent.button) &&
            p.length &&
            c.length &&
            !r(c) &&
            !r(c.parent()) &&
            (c.is('img') ||
              !(n.originalEvent.clientX > c[0].clientWidth + c.offset().left)))
        ) {
          if (!u || d.isAnimating || u.$slide.hasClass('fancybox-animated'))
            return n.stopPropagation(), void n.preventDefault();
          (i.realPoints = i.startPoints = s(n)),
            i.startPoints.length &&
              (u.touch && n.stopPropagation(),
              (i.startEvent = n),
              (i.canTap = !0),
              (i.$target = c),
              (i.$content = h),
              (i.opts = u.opts.touch),
              (i.isPanning = !1),
              (i.isSwiping = !1),
              (i.isZooming = !1),
              (i.isScrolling = !1),
              (i.canPan = d.canPan()),
              (i.startTime = new Date().getTime()),
              (i.distanceX = i.distanceY = i.distance = 0),
              (i.canvasWidth = Math.round(p[0].clientWidth)),
              (i.canvasHeight = Math.round(p[0].clientHeight)),
              (i.contentLastPos = null),
              (i.contentStartPos = o.fancybox.getTranslate(i.$content) || {
                top: 0,
                left: 0,
              }),
              (i.sliderStartPos = o.fancybox.getTranslate(p)),
              (i.stagePos = o.fancybox.getTranslate(d.$refs.stage)),
              (i.sliderStartPos.top -= i.stagePos.top),
              (i.sliderStartPos.left -= i.stagePos.left),
              (i.contentStartPos.top -= i.stagePos.top),
              (i.contentStartPos.left -= i.stagePos.left),
              o(t)
                .off('.fb.touch')
                .on(
                  f
                    ? 'touchend.fb.touch touchcancel.fb.touch'
                    : 'mouseup.fb.touch mouseleave.fb.touch',
                  o.proxy(i, 'ontouchend')
                )
                .on(
                  f ? 'touchmove.fb.touch' : 'mousemove.fb.touch',
                  o.proxy(i, 'ontouchmove')
                ),
              o.fancybox.isMobile &&
                t.addEventListener('scroll', i.onscroll, !0),
              (((i.opts || i.canPan) &&
                (c.is(i.$stage) || i.$stage.find(c).length)) ||
                (c.is('.fancybox-image') && n.preventDefault(),
                o.fancybox.isMobile &&
                  c.parents('.fancybox-caption').length)) &&
                ((i.isScrollable = l(c) || l(c.parent())),
                (o.fancybox.isMobile && i.isScrollable) || n.preventDefault(),
                (1 === i.startPoints.length || u.hasError) &&
                  (i.canPan
                    ? (o.fancybox.stop(i.$content), (i.isPanning = !0))
                    : (i.isSwiping = !0),
                  i.$container.addClass('fancybox-is-grabbing')),
                2 === i.startPoints.length &&
                  'image' === u.type &&
                  (u.isLoaded || u.$ghost) &&
                  ((i.canTap = !1),
                  (i.isSwiping = !1),
                  (i.isPanning = !1),
                  (i.isZooming = !0),
                  o.fancybox.stop(i.$content),
                  (i.centerPointStartX =
                    0.5 * (i.startPoints[0].x + i.startPoints[1].x) -
                    o(e).scrollLeft()),
                  (i.centerPointStartY =
                    0.5 * (i.startPoints[0].y + i.startPoints[1].y) -
                    o(e).scrollTop()),
                  (i.percentageOfImageAtPinchPointX =
                    (i.centerPointStartX - i.contentStartPos.left) /
                    i.contentStartPos.width),
                  (i.percentageOfImageAtPinchPointY =
                    (i.centerPointStartY - i.contentStartPos.top) /
                    i.contentStartPos.height),
                  (i.startDistanceBetweenFingers = a(
                    i.startPoints[0],
                    i.startPoints[1]
                  )))));
        }
      }),
      (d.prototype.onscroll = function (e) {
        (this.isScrolling = !0),
          t.removeEventListener('scroll', this.onscroll, !0);
      }),
      (d.prototype.ontouchmove = function (e) {
        var t = this;
        return void 0 !== e.originalEvent.buttons &&
          0 === e.originalEvent.buttons
          ? void t.ontouchend(e)
          : t.isScrolling
          ? void (t.canTap = !1)
          : ((t.newPoints = s(e)),
            void (
              (t.opts || t.canPan) &&
              t.newPoints.length &&
              t.newPoints.length &&
              ((t.isSwiping && !0 === t.isSwiping) || e.preventDefault(),
              (t.distanceX = a(t.newPoints[0], t.startPoints[0], 'x')),
              (t.distanceY = a(t.newPoints[0], t.startPoints[0], 'y')),
              (t.distance = a(t.newPoints[0], t.startPoints[0])),
              t.distance > 0 &&
                (t.isSwiping
                  ? t.onSwipe(e)
                  : t.isPanning
                  ? t.onPan()
                  : t.isZooming && t.onZoom()))
            ));
      }),
      (d.prototype.onSwipe = function (t) {
        var s,
          a = this,
          r = a.instance,
          c = a.isSwiping,
          l = a.sliderStartPos.left || 0;
        if (!0 !== c)
          'x' == c &&
            (a.distanceX > 0 &&
            (a.instance.group.length < 2 ||
              (0 === a.instance.current.index && !a.instance.current.opts.loop))
              ? (l += Math.pow(a.distanceX, 0.8))
              : a.distanceX < 0 &&
                (a.instance.group.length < 2 ||
                  (a.instance.current.index === a.instance.group.length - 1 &&
                    !a.instance.current.opts.loop))
              ? (l -= Math.pow(-a.distanceX, 0.8))
              : (l += a.distanceX)),
            (a.sliderLastPos = {
              top: 'x' == c ? 0 : a.sliderStartPos.top + a.distanceY,
              left: l,
            }),
            a.requestId && (i(a.requestId), (a.requestId = null)),
            (a.requestId = n(function () {
              a.sliderLastPos &&
                (o.each(a.instance.slides, function (e, t) {
                  var n = t.pos - a.instance.currPos;
                  o.fancybox.setTranslate(t.$slide, {
                    top: a.sliderLastPos.top,
                    left:
                      a.sliderLastPos.left +
                      n * a.canvasWidth +
                      n * t.opts.gutter,
                  });
                }),
                a.$container.addClass('fancybox-is-sliding'));
            }));
        else if (Math.abs(a.distance) > 10) {
          if (
            ((a.canTap = !1),
            r.group.length < 2 && a.opts.vertical
              ? (a.isSwiping = 'y')
              : r.isDragging ||
                !1 === a.opts.vertical ||
                ('auto' === a.opts.vertical && o(e).width() > 800)
              ? (a.isSwiping = 'x')
              : ((s = Math.abs(
                  (180 * Math.atan2(a.distanceY, a.distanceX)) / Math.PI
                )),
                (a.isSwiping = s > 45 && s < 135 ? 'y' : 'x')),
            'y' === a.isSwiping && o.fancybox.isMobile && a.isScrollable)
          )
            return void (a.isScrolling = !0);
          (r.isDragging = a.isSwiping),
            (a.startPoints = a.newPoints),
            o.each(r.slides, function (e, t) {
              var n, i;
              o.fancybox.stop(t.$slide),
                (n = o.fancybox.getTranslate(t.$slide)),
                (i = o.fancybox.getTranslate(r.$refs.stage)),
                t.$slide
                  .css({
                    transform: '',
                    opacity: '',
                    'transition-duration': '',
                  })
                  .removeClass('fancybox-animated')
                  .removeClass(function (e, t) {
                    return (t.match(/(^|\s)fancybox-fx-\S+/g) || []).join(' ');
                  }),
                t.pos === r.current.pos &&
                  ((a.sliderStartPos.top = n.top - i.top),
                  (a.sliderStartPos.left = n.left - i.left)),
                o.fancybox.setTranslate(t.$slide, {
                  top: n.top - i.top,
                  left: n.left - i.left,
                });
            }),
            r.SlideShow && r.SlideShow.isActive && r.SlideShow.stop();
        }
      }),
      (d.prototype.onPan = function () {
        var e = this;
        a(e.newPoints[0], e.realPoints[0]) < (o.fancybox.isMobile ? 10 : 5)
          ? (e.startPoints = e.newPoints)
          : ((e.canTap = !1),
            (e.contentLastPos = e.limitMovement()),
            e.requestId && i(e.requestId),
            (e.requestId = n(function () {
              o.fancybox.setTranslate(e.$content, e.contentLastPos);
            })));
      }),
      (d.prototype.limitMovement = function () {
        var e,
          t,
          o,
          n,
          i,
          s,
          a = this,
          r = a.canvasWidth,
          c = a.canvasHeight,
          l = a.distanceX,
          d = a.distanceY,
          u = a.contentStartPos,
          p = u.left,
          h = u.top,
          f = u.width,
          g = u.height;
        return (
          (i = f > r ? p + l : p),
          (s = h + d),
          (e = Math.max(0, 0.5 * r - 0.5 * f)),
          (t = Math.max(0, 0.5 * c - 0.5 * g)),
          (o = Math.min(r - f, 0.5 * r - 0.5 * f)),
          (n = Math.min(c - g, 0.5 * c - 0.5 * g)),
          l > 0 && i > e && (i = e - 1 + Math.pow(-e + p + l, 0.8) || 0),
          l < 0 && i < o && (i = o + 1 - Math.pow(o - p - l, 0.8) || 0),
          d > 0 && s > t && (s = t - 1 + Math.pow(-t + h + d, 0.8) || 0),
          d < 0 && s < n && (s = n + 1 - Math.pow(n - h - d, 0.8) || 0),
          { top: s, left: i }
        );
      }),
      (d.prototype.limitPosition = function (e, t, o, n) {
        var i = this.canvasWidth,
          s = this.canvasHeight;
        return (
          o > i
            ? (e = (e = e > 0 ? 0 : e) < i - o ? i - o : e)
            : (e = Math.max(0, i / 2 - o / 2)),
          n > s
            ? (t = (t = t > 0 ? 0 : t) < s - n ? s - n : t)
            : (t = Math.max(0, s / 2 - n / 2)),
          { top: t, left: e }
        );
      }),
      (d.prototype.onZoom = function () {
        var t = this,
          s = t.contentStartPos,
          r = s.width,
          c = s.height,
          l = s.left,
          d = s.top,
          u = a(t.newPoints[0], t.newPoints[1]) / t.startDistanceBetweenFingers,
          p = Math.floor(r * u),
          h = Math.floor(c * u),
          f = (r - p) * t.percentageOfImageAtPinchPointX,
          g = (c - h) * t.percentageOfImageAtPinchPointY,
          m = (t.newPoints[0].x + t.newPoints[1].x) / 2 - o(e).scrollLeft(),
          y = (t.newPoints[0].y + t.newPoints[1].y) / 2 - o(e).scrollTop(),
          v = m - t.centerPointStartX,
          b = {
            top: d + (g + (y - t.centerPointStartY)),
            left: l + (f + v),
            scaleX: u,
            scaleY: u,
          };
        (t.canTap = !1),
          (t.newWidth = p),
          (t.newHeight = h),
          (t.contentLastPos = b),
          t.requestId && i(t.requestId),
          (t.requestId = n(function () {
            o.fancybox.setTranslate(t.$content, t.contentLastPos);
          }));
      }),
      (d.prototype.ontouchend = function (e) {
        var n = this,
          a = n.isSwiping,
          r = n.isPanning,
          c = n.isZooming,
          l = n.isScrolling;
        if (
          ((n.endPoints = s(e)),
          (n.dMs = Math.max(new Date().getTime() - n.startTime, 1)),
          n.$container.removeClass('fancybox-is-grabbing'),
          o(t).off('.fb.touch'),
          t.removeEventListener('scroll', n.onscroll, !0),
          n.requestId && (i(n.requestId), (n.requestId = null)),
          (n.isSwiping = !1),
          (n.isPanning = !1),
          (n.isZooming = !1),
          (n.isScrolling = !1),
          (n.instance.isDragging = !1),
          n.canTap)
        )
          return n.onTap(e);
        (n.speed = 100),
          (n.velocityX = (n.distanceX / n.dMs) * 0.5),
          (n.velocityY = (n.distanceY / n.dMs) * 0.5),
          r ? n.endPanning() : c ? n.endZooming() : n.endSwiping(a, l);
      }),
      (d.prototype.endSwiping = function (e, t) {
        var n = this,
          i = !1,
          s = n.instance.group.length,
          a = Math.abs(n.distanceX),
          r = 'x' == e && s > 1 && ((n.dMs > 130 && a > 10) || a > 50);
        (n.sliderLastPos = null),
          'y' == e && !t && Math.abs(n.distanceY) > 50
            ? (o.fancybox.animate(
                n.instance.current.$slide,
                {
                  top: n.sliderStartPos.top + n.distanceY + 150 * n.velocityY,
                  opacity: 0,
                },
                200
              ),
              (i = n.instance.close(!0, 250)))
            : r && n.distanceX > 0
            ? (i = n.instance.previous(300))
            : r && n.distanceX < 0 && (i = n.instance.next(300)),
          !1 !== i || ('x' != e && 'y' != e) || n.instance.centerSlide(200),
          n.$container.removeClass('fancybox-is-sliding');
      }),
      (d.prototype.endPanning = function () {
        var e,
          t,
          n,
          i = this;
        i.contentLastPos &&
          (!1 === i.opts.momentum || i.dMs > 350
            ? ((e = i.contentLastPos.left), (t = i.contentLastPos.top))
            : ((e = i.contentLastPos.left + 500 * i.velocityX),
              (t = i.contentLastPos.top + 500 * i.velocityY)),
          ((n = i.limitPosition(
            e,
            t,
            i.contentStartPos.width,
            i.contentStartPos.height
          )).width = i.contentStartPos.width),
          (n.height = i.contentStartPos.height),
          o.fancybox.animate(i.$content, n, 366));
      }),
      (d.prototype.endZooming = function () {
        var e,
          t,
          n,
          i,
          s = this,
          a = s.instance.current,
          r = s.newWidth,
          c = s.newHeight;
        s.contentLastPos &&
          ((e = s.contentLastPos.left),
          (i = {
            top: (t = s.contentLastPos.top),
            left: e,
            width: r,
            height: c,
            scaleX: 1,
            scaleY: 1,
          }),
          o.fancybox.setTranslate(s.$content, i),
          r < s.canvasWidth && c < s.canvasHeight
            ? s.instance.scaleToFit(150)
            : r > a.width || c > a.height
            ? s.instance.scaleToActual(
                s.centerPointStartX,
                s.centerPointStartY,
                150
              )
            : ((n = s.limitPosition(e, t, r, c)),
              o.fancybox.animate(s.$content, n, 150)));
      }),
      (d.prototype.onTap = function (t) {
        var n,
          i = this,
          a = o(t.target),
          r = i.instance,
          c = r.current,
          l = (t && s(t)) || i.startPoints,
          d = l[0] ? l[0].x - o(e).scrollLeft() - i.stagePos.left : 0,
          u = l[0] ? l[0].y - o(e).scrollTop() - i.stagePos.top : 0,
          p = function (e) {
            var n = c.opts[e];
            if ((o.isFunction(n) && (n = n.apply(r, [c, t])), n))
              switch (n) {
                case 'close':
                  r.close(i.startEvent);
                  break;
                case 'toggleControls':
                  r.toggleControls();
                  break;
                case 'next':
                  r.next();
                  break;
                case 'nextOrClose':
                  r.group.length > 1 ? r.next() : r.close(i.startEvent);
                  break;
                case 'zoom':
                  'image' == c.type &&
                    (c.isLoaded || c.$ghost) &&
                    (r.canPan()
                      ? r.scaleToFit()
                      : r.isScaledDown()
                      ? r.scaleToActual(d, u)
                      : r.group.length < 2 && r.close(i.startEvent));
              }
          };
        if (
          (!t.originalEvent || 2 != t.originalEvent.button) &&
          (a.is('img') || !(d > a[0].clientWidth + a.offset().left))
        ) {
          if (
            a.is(
              '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container'
            )
          )
            n = 'Outside';
          else if (a.is('.fancybox-slide')) n = 'Slide';
          else {
            if (
              !r.current.$content ||
              !r.current.$content.find(a).addBack().filter(a).length
            )
              return;
            n = 'Content';
          }
          if (i.tapped) {
            if (
              (clearTimeout(i.tapped),
              (i.tapped = null),
              Math.abs(d - i.tapX) > 50 || Math.abs(u - i.tapY) > 50)
            )
              return this;
            p('dblclick' + n);
          } else
            (i.tapX = d),
              (i.tapY = u),
              c.opts['dblclick' + n] &&
              c.opts['dblclick' + n] !== c.opts['click' + n]
                ? (i.tapped = setTimeout(function () {
                    (i.tapped = null), r.isAnimating || p('click' + n);
                  }, 500))
                : p('click' + n);
          return this;
        }
      }),
      o(t)
        .on('onActivate.fb', function (e, t) {
          t && !t.Guestures && (t.Guestures = new d(t));
        })
        .on('beforeClose.fb', function (e, t) {
          t && t.Guestures && t.Guestures.destroy();
        });
  })(window, document, jQuery),
  (function (e, t) {
    'use strict';
    t.extend(!0, t.fancybox.defaults, {
      btnTpl: {
        slideShow:
          '<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>',
      },
      slideShow: { autoStart: !1, speed: 3e3, progress: !0 },
    });
    var o = function (e) {
      (this.instance = e), this.init();
    };
    t.extend(o.prototype, {
      timer: null,
      isActive: !1,
      $button: null,
      init: function () {
        var e = this,
          o = e.instance,
          n = o.group[o.currIndex].opts.slideShow;
        (e.$button = o.$refs.toolbar
          .find('[data-fancybox-play]')
          .on('click', function () {
            e.toggle();
          })),
          o.group.length < 2 || !n
            ? e.$button.hide()
            : n.progress &&
              (e.$progress = t(
                '<div class="fancybox-progress"></div>'
              ).appendTo(o.$refs.inner));
      },
      set: function (e) {
        var o = this,
          n = o.instance,
          i = n.current;
        i && (!0 === e || i.opts.loop || n.currIndex < n.group.length - 1)
          ? o.isActive &&
            'video' !== i.contentType &&
            (o.$progress &&
              t.fancybox.animate(
                o.$progress.show(),
                { scaleX: 1 },
                i.opts.slideShow.speed
              ),
            (o.timer = setTimeout(function () {
              n.current.opts.loop || n.current.index != n.group.length - 1
                ? n.next()
                : n.jumpTo(0);
            }, i.opts.slideShow.speed)))
          : (o.stop(), (n.idleSecondsCounter = 0), n.showControls());
      },
      clear: function () {
        var e = this;
        clearTimeout(e.timer),
          (e.timer = null),
          e.$progress && e.$progress.removeAttr('style').hide();
      },
      start: function () {
        var e = this,
          t = e.instance.current;
        t &&
          (e.$button
            .attr(
              'title',
              (t.opts.i18n[t.opts.lang] || t.opts.i18n.en).PLAY_STOP
            )
            .removeClass('fancybox-button--play')
            .addClass('fancybox-button--pause'),
          (e.isActive = !0),
          t.isComplete && e.set(!0),
          e.instance.trigger('onSlideShowChange', !0));
      },
      stop: function () {
        var e = this,
          t = e.instance.current;
        e.clear(),
          e.$button
            .attr(
              'title',
              (t.opts.i18n[t.opts.lang] || t.opts.i18n.en).PLAY_START
            )
            .removeClass('fancybox-button--pause')
            .addClass('fancybox-button--play'),
          (e.isActive = !1),
          e.instance.trigger('onSlideShowChange', !1),
          e.$progress && e.$progress.removeAttr('style').hide();
      },
      toggle: function () {
        var e = this;
        e.isActive ? e.stop() : e.start();
      },
    }),
      t(e).on({
        'onInit.fb': function (e, t) {
          t && !t.SlideShow && (t.SlideShow = new o(t));
        },
        'beforeShow.fb': function (e, t, o, n) {
          var i = t && t.SlideShow;
          n
            ? i && o.opts.slideShow.autoStart && i.start()
            : i && i.isActive && i.clear();
        },
        'afterShow.fb': function (e, t, o) {
          var n = t && t.SlideShow;
          n && n.isActive && n.set();
        },
        'afterKeydown.fb': function (o, n, i, s, a) {
          var r = n && n.SlideShow;
          !r ||
            !i.opts.slideShow ||
            (80 !== a && 32 !== a) ||
            t(e.activeElement).is('button,a,input') ||
            (s.preventDefault(), r.toggle());
        },
        'beforeClose.fb onDeactivate.fb': function (e, t) {
          var o = t && t.SlideShow;
          o && o.stop();
        },
      }),
      t(e).on('visibilitychange', function () {
        var o = t.fancybox.getInstance(),
          n = o && o.SlideShow;
        n && n.isActive && (e.hidden ? n.clear() : n.set());
      });
  })(document, jQuery),
  (function (e, t) {
    'use strict';
    var o = (function () {
      for (
        var t = [
            [
              'requestFullscreen',
              'exitFullscreen',
              'fullscreenElement',
              'fullscreenEnabled',
              'fullscreenchange',
              'fullscreenerror',
            ],
            [
              'webkitRequestFullscreen',
              'webkitExitFullscreen',
              'webkitFullscreenElement',
              'webkitFullscreenEnabled',
              'webkitfullscreenchange',
              'webkitfullscreenerror',
            ],
            [
              'webkitRequestFullScreen',
              'webkitCancelFullScreen',
              'webkitCurrentFullScreenElement',
              'webkitCancelFullScreen',
              'webkitfullscreenchange',
              'webkitfullscreenerror',
            ],
            [
              'mozRequestFullScreen',
              'mozCancelFullScreen',
              'mozFullScreenElement',
              'mozFullScreenEnabled',
              'mozfullscreenchange',
              'mozfullscreenerror',
            ],
            [
              'msRequestFullscreen',
              'msExitFullscreen',
              'msFullscreenElement',
              'msFullscreenEnabled',
              'MSFullscreenChange',
              'MSFullscreenError',
            ],
          ],
          o = {},
          n = 0;
        n < t.length;
        n++
      ) {
        var i = t[n];
        if (i && i[1] in e) {
          for (var s = 0; s < i.length; s++) o[t[0][s]] = i[s];
          return o;
        }
      }
      return !1;
    })();
    if (o) {
      var n = {
        request: function (t) {
          (t = t || e.documentElement)[o.requestFullscreen](
            t.ALLOW_KEYBOARD_INPUT
          );
        },
        exit: function () {
          e[o.exitFullscreen]();
        },
        toggle: function (t) {
          (t = t || e.documentElement),
            this.isFullscreen() ? this.exit() : this.request(t);
        },
        isFullscreen: function () {
          return Boolean(e[o.fullscreenElement]);
        },
        enabled: function () {
          return Boolean(e[o.fullscreenEnabled]);
        },
      };
      t.extend(!0, t.fancybox.defaults, {
        btnTpl: {
          fullScreen:
            '<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>',
        },
        fullScreen: { autoStart: !1 },
      }),
        t(e).on(o.fullscreenchange, function () {
          var e = n.isFullscreen(),
            o = t.fancybox.getInstance();
          o &&
            (o.current &&
              'image' === o.current.type &&
              o.isAnimating &&
              ((o.isAnimating = !1),
              o.update(!0, !0, 0),
              o.isComplete || o.complete()),
            o.trigger('onFullscreenChange', e),
            o.$refs.container.toggleClass('fancybox-is-fullscreen', e),
            o.$refs.toolbar
              .find('[data-fancybox-fullscreen]')
              .toggleClass('fancybox-button--fsenter', !e)
              .toggleClass('fancybox-button--fsexit', e));
        });
    }
    t(e).on({
      'onInit.fb': function (e, t) {
        o
          ? t && t.group[t.currIndex].opts.fullScreen
            ? (t.$refs.container.on(
                'click.fb-fullscreen',
                '[data-fancybox-fullscreen]',
                function (e) {
                  e.stopPropagation(), e.preventDefault(), n.toggle();
                }
              ),
              t.opts.fullScreen &&
                !0 === t.opts.fullScreen.autoStart &&
                n.request(),
              (t.FullScreen = n))
            : t && t.$refs.toolbar.find('[data-fancybox-fullscreen]').hide()
          : t.$refs.toolbar.find('[data-fancybox-fullscreen]').remove();
      },
      'afterKeydown.fb': function (e, t, o, n, i) {
        t &&
          t.FullScreen &&
          70 === i &&
          (n.preventDefault(), t.FullScreen.toggle());
      },
      'beforeClose.fb': function (e, t) {
        t &&
          t.FullScreen &&
          t.$refs.container.hasClass('fancybox-is-fullscreen') &&
          n.exit();
      },
    });
  })(document, jQuery),
  (function (e, t) {
    'use strict';
    var o = 'fancybox-thumbs';
    t.fancybox.defaults = t.extend(
      !0,
      {
        btnTpl: {
          thumbs:
            '<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>',
        },
        thumbs: {
          autoStart: !1,
          hideOnClose: !0,
          parentEl: '.fancybox-container',
          axis: 'y',
        },
      },
      t.fancybox.defaults
    );
    var n = function (e) {
      this.init(e);
    };
    t.extend(n.prototype, {
      $button: null,
      $grid: null,
      $list: null,
      isVisible: !1,
      isActive: !1,
      init: function (e) {
        var t = this,
          o = e.group,
          n = 0;
        (t.instance = e),
          (t.opts = o[e.currIndex].opts.thumbs),
          (e.Thumbs = t),
          (t.$button = e.$refs.toolbar.find('[data-fancybox-thumbs]'));
        for (
          var i = 0, s = o.length;
          i < s && (o[i].thumb && n++, !(n > 1));
          i++
        );
        n > 1 && t.opts
          ? (t.$button.removeAttr('style').on('click', function () {
              t.toggle();
            }),
            (t.isActive = !0))
          : t.$button.hide();
      },
      create: function () {
        var e,
          n = this,
          i = n.instance,
          s = n.opts.parentEl,
          a = [];
        n.$grid ||
          ((n.$grid = t(
            '<div class="' + o + ' ' + o + '-' + n.opts.axis + '"></div>'
          ).appendTo(i.$refs.container.find(s).addBack().filter(s))),
          n.$grid.on('click', 'a', function () {
            i.jumpTo(t(this).attr('data-index'));
          })),
          n.$list ||
            (n.$list = t('<div class="' + o + '__list">').appendTo(n.$grid)),
          t.each(i.group, function (t, o) {
            (e = o.thumb) || 'image' !== o.type || (e = o.src),
              a.push(
                '<a href="javascript:;" tabindex="0" data-index="' +
                  t +
                  '"' +
                  (e && e.length
                    ? ' style="background-image:url(' + e + ')"'
                    : 'class="fancybox-thumbs-missing"') +
                  '></a>'
              );
          }),
          (n.$list[0].innerHTML = a.join('')),
          'x' === n.opts.axis &&
            n.$list.width(
              parseInt(n.$grid.css('padding-right'), 10) +
                i.group.length * n.$list.children().eq(0).outerWidth(!0)
            );
      },
      focus: function (e) {
        var t,
          o,
          n = this,
          i = n.$list,
          s = n.$grid;
        n.instance.current &&
          ((o = (t = i
            .children()
            .removeClass('fancybox-thumbs-active')
            .filter('[data-index="' + n.instance.current.index + '"]')
            .addClass('fancybox-thumbs-active')).position()),
          'y' === n.opts.axis &&
          (o.top < 0 || o.top > i.height() - t.outerHeight())
            ? i.stop().animate({ scrollTop: i.scrollTop() + o.top }, e)
            : 'x' === n.opts.axis &&
              (o.left < s.scrollLeft() ||
                o.left > s.scrollLeft() + (s.width() - t.outerWidth())) &&
              i.parent().stop().animate({ scrollLeft: o.left }, e));
      },
      update: function () {
        var e = this;
        e.instance.$refs.container.toggleClass(
          'fancybox-show-thumbs',
          this.isVisible
        ),
          e.isVisible
            ? (e.$grid || e.create(),
              e.instance.trigger('onThumbsShow'),
              e.focus(0))
            : e.$grid && e.instance.trigger('onThumbsHide'),
          e.instance.update();
      },
      hide: function () {
        (this.isVisible = !1), this.update();
      },
      show: function () {
        (this.isVisible = !0), this.update();
      },
      toggle: function () {
        (this.isVisible = !this.isVisible), this.update();
      },
    }),
      t(e).on({
        'onInit.fb': function (e, t) {
          var o;
          t &&
            !t.Thumbs &&
            (o = new n(t)).isActive &&
            !0 === o.opts.autoStart &&
            o.show();
        },
        'beforeShow.fb': function (e, t, o, n) {
          var i = t && t.Thumbs;
          i && i.isVisible && i.focus(n ? 0 : 250);
        },
        'afterKeydown.fb': function (e, t, o, n, i) {
          var s = t && t.Thumbs;
          s && s.isActive && 71 === i && (n.preventDefault(), s.toggle());
        },
        'beforeClose.fb': function (e, t) {
          var o = t && t.Thumbs;
          o && o.isVisible && !1 !== o.opts.hideOnClose && o.$grid.hide();
        },
      });
  })(document, jQuery),
  (function (e, t) {
    'use strict';
    t.extend(!0, t.fancybox.defaults, {
      btnTpl: {
        share:
          '<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>',
      },
      share: {
        url: function (e, t) {
          return (
            (!e.currentHash &&
              'inline' !== t.type &&
              'html' !== t.type &&
              (t.origSrc || t.src)) ||
            window.location
          );
        },
        tpl: '<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>',
      },
    }),
      t(e).on('click', '[data-fancybox-share]', function () {
        var e,
          o,
          n = t.fancybox.getInstance(),
          i = n.current || null;
        i &&
          ('function' === t.type(i.opts.share.url) &&
            (e = i.opts.share.url.apply(i, [n, i])),
          (o = i.opts.share.tpl
            .replace(
              /\{\{media\}\}/g,
              'image' === i.type ? encodeURIComponent(i.src) : ''
            )
            .replace(/\{\{url\}\}/g, encodeURIComponent(e))
            .replace(
              /\{\{url_raw\}\}/g,
              (function (e) {
                var t = {
                  '&': '&amp;',
                  '<': '&lt;',
                  '>': '&gt;',
                  '"': '&quot;',
                  "'": '&#39;',
                  '/': '&#x2F;',
                  '`': '&#x60;',
                  '=': '&#x3D;',
                };
                return String(e).replace(/[&<>"'`=\/]/g, function (e) {
                  return t[e];
                });
              })(e)
            )
            .replace(
              /\{\{descr\}\}/g,
              n.$caption ? encodeURIComponent(n.$caption.text()) : ''
            )),
          t.fancybox.open({
            src: n.translate(n, o),
            type: 'html',
            opts: {
              touch: !1,
              animationEffect: !1,
              afterLoad: function (e, t) {
                n.$refs.container.one('beforeClose.fb', function () {
                  e.close(null, 0);
                }),
                  t.$content.find('.fancybox-share__button').click(function () {
                    return (
                      window.open(this.href, 'Share', 'width=550, height=450'),
                      !1
                    );
                  });
              },
              mobile: { autoFocus: !1 },
            },
          }));
      });
  })(document, jQuery),
  (function (e, t, o) {
    'use strict';
    function n() {
      var t = e.location.hash.substr(1),
        o = t.split('-'),
        n =
          (o.length > 1 &&
            /^\+?\d+$/.test(o[o.length - 1]) &&
            parseInt(o.pop(-1), 10)) ||
          1;
      return { hash: t, index: n < 1 ? 1 : n, gallery: o.join('-') };
    }
    function i(e) {
      '' !== e.gallery &&
        o("[data-fancybox='" + o.escapeSelector(e.gallery) + "']")
          .eq(e.index - 1)
          .focus()
          .trigger('click.fb-start');
    }
    function s(e) {
      var t, o;
      return (
        !!e &&
        '' !==
          (o =
            (t = e.current ? e.current.opts : e.opts).hash ||
            (t.$orig
              ? t.$orig.data('fancybox') || t.$orig.data('fancybox-trigger')
              : '')) &&
        o
      );
    }
    o.escapeSelector ||
      (o.escapeSelector = function (e) {
        return (e + '').replace(
          /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,
          function (e, t) {
            return t
              ? '\0' === e
                ? '�'
                : e.slice(0, -1) +
                  '\\' +
                  e.charCodeAt(e.length - 1).toString(16) +
                  ' '
              : '\\' + e;
          }
        );
      }),
      o(function () {
        !1 !== o.fancybox.defaults.hash &&
          (o(t).on({
            'onInit.fb': function (e, t) {
              var o, i;
              !1 !== t.group[t.currIndex].opts.hash &&
                ((o = n()),
                (i = s(t)) &&
                  o.gallery &&
                  i == o.gallery &&
                  (t.currIndex = o.index - 1));
            },
            'beforeShow.fb': function (o, n, i, a) {
              var r;
              i &&
                !1 !== i.opts.hash &&
                (r = s(n)) &&
                ((n.currentHash =
                  r + (n.group.length > 1 ? '-' + (i.index + 1) : '')),
                e.location.hash !== '#' + n.currentHash &&
                  (a && !n.origHash && (n.origHash = e.location.hash),
                  n.hashTimer && clearTimeout(n.hashTimer),
                  (n.hashTimer = setTimeout(function () {
                    'replaceState' in e.history
                      ? (e.history[a ? 'pushState' : 'replaceState'](
                          {},
                          t.title,
                          e.location.pathname +
                            e.location.search +
                            '#' +
                            n.currentHash
                        ),
                        a && (n.hasCreatedHistory = !0))
                      : (e.location.hash = n.currentHash),
                      (n.hashTimer = null);
                  }, 300))));
            },
            'beforeClose.fb': function (o, n, i) {
              i &&
                !1 !== i.opts.hash &&
                (clearTimeout(n.hashTimer),
                n.currentHash && n.hasCreatedHistory
                  ? e.history.back()
                  : n.currentHash &&
                    ('replaceState' in e.history
                      ? e.history.replaceState(
                          {},
                          t.title,
                          e.location.pathname +
                            e.location.search +
                            (n.origHash || '')
                        )
                      : (e.location.hash = n.origHash)),
                (n.currentHash = null));
            },
          }),
          o(e).on('hashchange.fb', function () {
            var e = n(),
              t = null;
            o.each(o('.fancybox-container').get().reverse(), function (e, n) {
              var i = o(n).data('FancyBox');
              if (i && i.currentHash) return (t = i), !1;
            }),
              t
                ? t.currentHash === e.gallery + '-' + e.index ||
                  (1 === e.index && t.currentHash == e.gallery) ||
                  ((t.currentHash = null), t.close())
                : '' !== e.gallery && i(e);
          }),
          setTimeout(function () {
            o.fancybox.getInstance() || i(n());
          }, 50));
      });
  })(window, document, jQuery),
  (function (e, t) {
    'use strict';
    var o = new Date().getTime();
    t(e).on({
      'onInit.fb': function (e, t, n) {
        t.$refs.stage.on(
          'mousewheel DOMMouseScroll wheel MozMousePixelScroll',
          function (e) {
            var n = t.current,
              i = new Date().getTime();
            t.group.length < 2 ||
              !1 === n.opts.wheel ||
              ('auto' === n.opts.wheel && 'image' !== n.type) ||
              (e.preventDefault(),
              e.stopPropagation(),
              n.$slide.hasClass('fancybox-animated') ||
                ((e = e.originalEvent || e),
                i - o < 250 ||
                  ((o = i),
                  t[
                    (-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0
                      ? 'next'
                      : 'previous'
                  ]())));
          }
        );
      },
    });
  })(document, jQuery);
const scroll = new LocomotiveScroll({
  el: document.querySelector('[data-scroll-container]'),
  getDirection: !0,
  smooth: !0,
});
window.loco = scroll;
let resizePage = 0,
  pageTempHeight = 0;
function fnAboutPage() {
  var e = new SplitText('section.hero-montage h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero-montage h1', {
    type: 'lines',
    linesClass: 'split-parent',
  });
  const t = document.getElementsByClassName('hero-montage')[0],
    o = document.querySelector('section.hero-montage .label'),
    n = document.querySelector('section.hero-montage .description'),
    i = document.querySelector('section.hero-montage .content');
  gsap.set(i, { opacity: 0 });
  gsap
    .timeline({ scrollTrigger: { trigger: t, start: 'top 75%' } })
    .from(
      e.lines,
      {
        duration: 1.5,
        yPercent: 100,
        transformOrigin: 'right top',
        skewType: 'simple',
        ease: 'power4',
        stagger: 0.1,
        onStart: () => {
          gsap.set(i, { opacity: 1 });
        },
      },
      0.5
    )
    .fromTo(o, 1, { opacity: 0, y: 25 }, { opacity: 1, y: 0 }, 0.5)
    .fromTo(n, 1, { opacity: 0, x: 50 }, { opacity: 1, x: 0 }, 0.5);
}
function fnArticleThumbs(e, t) {
  t = $(t);
  var o = $('.grid', t),
    n = $('.controls .arrows', t);
  $('article.post').length;
  let i = {
    cellAlign: 'left',
    prevNextButtons: !1,
    pageDots: !1,
    wrapAround: !0,
  };
  function s() {
    $(window).width() > 1024 &&
      (o.flickity('destroy'),
      o.addClass('grid--stack'),
      $('.button', t).removeClass('button--hide'),
      $('.controls', t).addClass('controls--hide'));
  }
  function a() {
    $(window).width() < 1024 &&
      (o.flickity(i),
      o.removeClass('grid--stack'),
      $('.button', t).addClass('button--hide'),
      $('.controls', t).removeClass('controls--hide'),
      !0);
  }
  s(),
    a(),
    window.addEventListener('resize', () => {
      a(), s();
    }),
    $('nav.next', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('next');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    $('nav.prev', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('previous');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    ScrollTrigger.refresh();
}
function fnBioAsideFeature(e, t) {
  t = $(t);
  var o = $('.content_button', t);
  $(window).width() > 1230 && o.length;
}
function fnCenteredCarousel(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.controls', t);
  o.flickity({ prevNextButtons: !1, pageDots: !1, wrapAround: !0 }),
    $('nav.next', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('next');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    $('nav.prev', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('previous');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    });
  let i = $('.item img', t),
    s = $('.item .overlay', t),
    a = o.data('flickity');
  $(i).length &&
    $(s).length &&
    o.on('scroll.flickity', function () {
      a.slides.forEach(function (e, t) {
        let o = -1 / 3;
        (x = 0),
          0 === t
            ? (x =
                Math.abs(a.x) > a.slidesWidth
                  ? a.slidesWidth +
                    a.x +
                    a.slides[a.slides.length - 1].outerWidth +
                    e.target
                  : e.target + a.x)
            : t === a.slides.length - 1
            ? (x =
                Math.abs(a.x) + a.slides[t].outerWidth < a.slidesWidth
                  ? e.target - a.slidesWidth + a.x - a.slides[t].outerWidth
                  : e.target + a.x)
            : (x = e.target + a.x),
          $(window).width() < 769 && (o = -1 / 0),
          (s[t].style.transform = 'translateX(' + x * o + 'px)'),
          (i[t].style.transform = 'translateX(' + x * o + 'px)');
      });
    }),
    ScrollTrigger.refresh();
}
function fnClientTeamMarquee(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.arrows-block', t);
  o.flickity({
    cellAlign: 'left',
    fade: !0,
    wrapAround: !0,
    autoPlay: !1,
    adaptiveHeight: !1,
    freeScroll: !0,
    freeScrollFriction: 0.03,
    contain: !0,
    accessibility: !1,
    prevNextButtons: !1,
    pageDots: !1,
  }),
    $('nav.arrows_next', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('next');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    $('nav.arrows_prev', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('previous');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    ScrollTrigger.refresh();
}
function fnClientsHero() {
  var e = new SplitText('section.hero-clients h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero-clients h1', {
    type: 'lines',
    linesClass: 'split-parent',
  });
  const t = document.getElementsByClassName('hero-clients')[0],
    o = document.querySelector('section.hero-clients .label'),
    n = document.querySelector('section.hero-clients .description'),
    i = document.querySelector('section.hero-clients .content');
  gsap.set(i, { opacity: 0 });
  gsap
    .timeline({ scrollTrigger: { trigger: t, start: 'top 75%' } })
    .from(
      e.lines,
      {
        duration: 1.5,
        yPercent: 100,
        transformOrigin: 'right top',
        skewType: 'simple',
        ease: 'power4',
        stagger: 0.1,
        onStart: () => {
          gsap.set(i, { opacity: 1 });
        },
      },
      0.5
    )
    .fromTo(o, 1, { opacity: 0, y: 25 }, { opacity: 1, y: 0 }, 0.5)
    .fromTo(n, 1, { opacity: 0, x: 50 }, { opacity: 1, x: 0 }, 0.5);
}
function fnContactForm(e, t) {
  t = $(t);
  function o(e) {
    const t = `; ${document.cookie}`.split(`; ${e}=`);
    if (2 === t.length) return t.pop().split(';').shift();
  }
  !(function () {
    function e(e) {
      e.preventDefault();
      const t = this.getAttribute('href'),
        o = document.querySelector('#' + t);
      scroll.scrollTo(o);
    }
    document.querySelectorAll('.button a').forEach((t) => {
      t.addEventListener('click', e);
    });
  })(),
    (function () {
      const e = $('.terms-and-cond-html').html();
      $('.gform_footer', t).append(`<div class="terms">${e}</div>`);
    })(),
    $('select option').each(function (e, o) {
      $('.options', t).append('<li>' + $(o).val() + '</li>');
    }),
    $('#input_1_11 li label').each(function (e, t) {
      var o = $(t).attr('id').replace('label_', 'choice_');
      $('.services').append(
        '<div class="service" data-for="' +
          o +
          '"><div class="item">' +
          $(t).text() +
          '</div></div>'
      ),
        $('#' + o).is(':checked') &&
          $('*[data-for="' + o + '"]').addClass('checked');
    }),
    $('.service').click(function () {
      $(this).toggleClass('checked');
      var e = $(this).attr('data-for');
      $('#' + e).is(':checked')
        ? $('#' + e).prop('checked', !1)
        : $('#' + e).prop('checked', !0);
    }),
    $('.options li, .selected').click(function () {
      $('.options').toggleClass('open');
    }),
    (function () {
      const e = new URLSearchParams(window.location.search);
      (null != o('contact-option') && 'message' != e.get('p')) ||
        (document.cookie = 'contact-option=Send message'),
        'service' == e.get('p') &&
          (document.cookie = 'contact-option=Work with us'),
        'subscribe' == e.get('p') &&
          (document.cookie = 'contact-option=Subscribe'),
        'supplier_subcontractor' == e.get('p') &&
          (document.cookie = 'contact-option=Become a supplier/subcontractor'),
        'submit_your_cv' == e.get('p') &&
          (document.cookie = 'contact-option=Submit your CV'),
        $('.selected').text(o('contact-option')),
        $(`option[value="${o('contact-option')}"]`).prop('selected', !0),
        $('.options li').click(function () {
          (document.cookie = 'contact-option=' + $(this).text()),
            window.location.origin ||
              (window.location.origin =
                window.location.protocol +
                '//' +
                (window.location.port ? ':' + window.location.port : '')),
            (url = window.location.origin + window.location.pathname),
            (window.location = url),
            'Subscribe' === $(this).text()
              ? window.location.replace('?p=subscribe')
              : 'Send Message' === $(this).text()
              ? window.location.replace('?p=message')
              : 'Work with us' === $(this).text()
              ? window.location.replace('?p=service')
              : 'Become a supplier/subcontractor' === $(this).text()
              ? window.location.replace('?p=supplier_subcontractor')
              : 'Submit your CV' === $(this).text() &&
                window.location.replace('?p=submit_your_cv');
        });
    })(),
    $('.dropdown-icon').appendTo('.gfield .selected'),
    $('.gform_footer', t).prepend(
      '<div class="button-submit"><a href="" title="Click to submit the form" target="_self"><span>Submit</span><i class="line"></i></a></div>'
    ),
    $('.button-submit').click(function (e) {
      e.preventDefault(), $('#gform_wrapper_1 > form', t).submit();
    }),
    $('.check-icon').appendTo('.service .item'),
    $('#input_1_19 li label').each(function (e, t) {
      var o = $(t).attr('id').replace('label_', 'choice_');
      $('.marketing-preferences').append(
        '<label class="checkbox">' +
          $(this).text() +
          '<input type="checkbox" data-for="' +
          o +
          '"><span class="checkmark"></span></label>'
      ),
        $('#' + o).is(':checked') &&
          $('*[data-for="' + o + '"]').prop('checked', !0);
    }),
    $('input[type=checkbox]').click(function () {
      var e = $(this).attr('data-for');
      $('#' + e).is(':checked')
        ? $('#' + e).prop('checked', !1)
        : $('#' + e).prop('checked', !0);
    }),
    ScrollTrigger.refresh();
}
function fnContactHero(e, t) {
  t = $(t);
  var o = new SplitText('section.contact-form  h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.contact-form  h1', {
    type: 'lines',
    linesClass: 'split-parent',
  }),
    gsap.from(o.lines, {
      duration: 1.5,
      yPercent: 100,
      transformOrigin: 'right top',
      skewType: 'simple',
      ease: 'power4',
      stagger: 0.1,
      onStart: () => {
        gsap.set('section.contact-form  h1', { opacity: 1 });
      },
    });
  const n = document.querySelector('section.contact-form .label');
  TweenMax.fromTo(n, 1, { opacity: 0, y: 25 }, { opacity: 1, y: 0 });
}
function fnCursor() {
  var e = $('.cursor'),
    t = $('.text', e),
    o = $('.outer', e),
    n = $('.dots', e),
    i = {
      backgroundColor: 'transparent',
      borderColor: '#FAAD00',
      borderWidth: 2,
      height: 30,
      left: -15,
      top: -15,
      width: 30,
    },
    s = { height: 100, left: -41, opacity: 0, top: -51, width: 80 };
  if ($(window).width() > 1024) {
    $('html').removeClass('-cursor-loading'),
      TweenLite.to(o, 0.3, i),
      TweenLite.to(e, 0.3, { opacity: 1 }, 0.3),
      $(window).on('mousemove', function (i) {
        e.hasClass('-attached') ||
          (TweenLite.to(t, 0.3, { x: i.clientX, y: i.clientY }),
          TweenLite.to(o, 0.3, { x: i.clientX, y: i.clientY }),
          TweenLite.to(n, 0.3, { y: i.clientY }),
          TweenLite.to(n, 0.35, { x: i.clientX }));
      }),
      $('[data-cursor="1"]').hover(
        function (e) {
          TweenLite.to(o, 0.3, {
            borderColor: $(this).data('cursor-color')
              ? $(this).data('cursor-color')
              : '#FAAD00',
            left: -24,
            height: 46,
            top: -24,
            width: 46,
          });
        },
        function (e) {
          TweenLite.to(o, 0.3, i);
        }
      ),
      $('[data-cursor="2"]').hover(
        function (i) {
          e.addClass('-outer--border'),
            t.text($(this).data('cursor-label')),
            TweenLite.to(t, 0.3, { color: '#fff', opacity: 1, scale: 1 }),
            TweenLite.to(o, 0.3, {
              background: $(this).data('cursor-color')
                ? $(this).data('cursor-color')
                : '#FAAD00',
              borderColor: $(this).data('cursor-border-color')
                ? $(this).data('cursor-border-color')
                : '#FAAD00',
              left: -44,
              height: 86,
              top: -44,
              width: 86,
            }),
            $(this).data('dots') &&
              TweenLite.to(n, 0.3, { left: -71, opacity: 1, width: 140 });
        },
        function (a) {
          e.removeClass('-outer--border'),
            TweenLite.to(t, 0.3, { opacity: 0, scale: 0 }),
            TweenLite.to(o, 0.3, i),
            $(this).data('dots') && TweenLite.to(n, 0.3, s);
        }
      ),
      $('[data-cursor="3"]').hover(
        function (t) {
          e.addClass('-attached');
          var n = $(window).scrollTop(),
            i = $(this).offset().top - n,
            s = $(this).offset().left;
          TweenLite.to(o, 0.3, {
            borderColor: $(this).data('cursor-color')
              ? $(this).data('cursor-color')
              : '#FAAD00',
            borderWidth: 1.5,
            left: 0,
            height: 8,
            top: 0,
            x:
              s -
              ($(this).data('cursor-offset-x')
                ? $(this).data('cursor-offset-x')
                : 0),
            y:
              i -
              ($(this).data('cursor-offset-y')
                ? $(this).data('cursor-offset-y')
                : 0),
            width: 8,
          });
        },
        function (t) {
          e.removeClass('-attached'), TweenLite.to(o, 0.3, i);
        }
      );
  }
}
function fnDownloadGuideForm(e, t) {
  t = $(t);
  $('.ginput_container_text, .ginput_container_email').prepend(
    '<span>*</span>'
  ),
    $(document).on('gform_post_render', function (e, t) {
      $('.ginput_container_text, .ginput_container_email').prepend(
        '<span>*</span>'
      );
    }),
    $(document).on('gform_confirmation_loaded', function (e, o) {
      $('.pre-form', t).remove(), $('.post-form', t).show();
    });
}
function fnFooter(e, t) {
  t = $(t);
  $('.scroll a').click(function () {
    scroll.scrollTo(0, 0), window.scrollTo(0, 0);
  });
}
function fnHeaderCampaign(e, t) {
  function o(e) {
    e.preventDefault();
    const t = this.getAttribute('href').replace('#', '.'),
      { offsetTop: o } = document.querySelector(`${t}`);
    scroll.scrollTo(o);
  }
  TweenMax.fromTo('header', 1, { y: -120 }, { y: 0, delay: 0.5 });
  document.querySelectorAll('.links a').forEach((e) => {
    e.addEventListener('click', o);
  });
}
function fnHeaderColourLoad() {
  gsap.utils.toArray(['section', 'footer', 'div']).forEach(function (e) {
    var t = e.getAttribute('data-header-color');
    ScrollTrigger.create({
      trigger: e,
      scroller: '[data-scroll-container]',
      start: 'top 10%',
      end: 'bottom 10%',
      onEnter: () => {
        document.getElementsByTagName('header')[0].classList.add(t);
      },
      onLeave: () => {
        document.getElementsByTagName('header')[0].classList.remove(t);
      },
      onLeaveBack: () => {
        document.getElementsByTagName('header')[0].classList.remove(t);
      },
      onEnterBack: () => {
        document.getElementsByTagName('header')[0].classList.add(t);
      },
    });
  });
}
function fnHeaderPrimary(e, t) {
  t = $(t);
  var o = $('.inline-pane button.buttons_menu', t);
  $('.nav-pane', t);
  $('.submenu-listing', t).hover(
    function () {
      $('.nav-backdrop').addClass('show');
    },
    function () {
      $('.nav-backdrop').removeClass('show');
    }
  ),
    o.on('click', function (e) {
      e.preventDefault(),
        t.hasClass('-nav--open')
          ? (t.removeClass('-nav--open'), scroll.start())
          : (t.addClass('-nav--open'), scroll.stop());
    });
  var n = $('nav.mobile'),
    i = 'open';
  function s() {
    if ($(window).width() <= 768) {
      var e = $(window).height();
      $('nav.mobile ul.child-menus').height(e - 110);
    }
  }
  $(window).on('resize', function () {
    s();
  }),
    s(),
    $('li.submenu-parent a.parent-menu-item', n).on('click', function (e) {
      e.preventDefault(),
        $('li.submenu-parent', n).removeClass(i),
        n.addClass(i),
        $(this).closest('li.submenu-parent').addClass(i);
    }),
    $('a.back', n).on('click', function (e) {
      e.preventDefault(),
        $('li.submenu-parent', n).removeClass(i),
        n.removeClass(i);
    });
}
function fnHero(e, t) {
  t = $(t);
  var o = new SplitText('section.hero h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero h1', {
    type: 'lines',
    linesClass: 'split-parent',
  });
  const n = document.querySelector('section.hero .container'),
    i = document.querySelector('section.works-carousel .slider'),
    s = document.querySelector('section.hero-filters .filters'),
    a = document.querySelector('section.hero-filters .filter-icon');
  $('.split-child').css('text-align', 'center');
  gsap
    .timeline()
    .from(
      o.lines,
      {
        duration: 1.5,
        yPercent: 100,
        transformOrigin: 'right top',
        skewType: 'simple',
        ease: 'power4',
        stagger: 0.1,
        onStart: () => {
          gsap.set(n, { opacity: 1 });
        },
      },
      0.5
    )
    .fromTo(
      s,
      { opacity: 0, y: 0 },
      {
        opacity: 1,
        onComplete: () => {
          $('.filters').css({ transform: '' });
        },
      },
      0.75
    )
    .fromTo(a, { opacity: 0, y: 0 }, { opacity: 1 }, 0.75)
    .fromTo(i, { opacity: 0, y: 0 }, { opacity: 1, y: -20 }, 0.75);
  const r = document.querySelector('section.hero .label');
  TweenMax.fromTo(r, 1, { opacity: 0, y: 50 }, { opacity: 1, y: 0 });
  const c = document.querySelector('section.hero .description');
  TweenMax.fromTo(c, 2, { opacity: 0, y: 50 }, { opacity: 1, y: 0 });
}
function fnHeroAltTrial(e, t) {
  t = $(t);
  var o = $('figure.images', t);
  if ($(window).width() > 1230 && o.length > 0) {
    const e = document.body,
      t = {
        lerp: (e, t, o) => (1 - o) * e + o * t,
        distance: (e, t, o, n) => Math.hypot(o - e, n - t),
      },
      o = (t) => {
        let o = 0,
          n = 0;
        return (
          t || (t = window.event),
          t.pageX || t.pageY
            ? ((o = t.pageX), (n = t.pageY))
            : (t.clientX || t.clientY) &&
              ((o = t.clientX + e.scrollLeft + docEl.scrollLeft),
              (n = t.clientY + e.scrollTop + docEl.scrollTop)),
          { x: o, y: n }
        );
      };
    let n = (lastMousePos = cacheMousePos = { x: 0, y: 0 });
    window.addEventListener('mousemove', (e) => (n = o(e)));
    const i = () => t.distance(n.x, n.y, lastMousePos.x, lastMousePos.y);
    class s {
      constructor(e) {
        (this.DOM = { el: e }),
          (this.defaultStyle = { scale: 1, x: 0, y: 0, opacity: 0 }),
          this.getRect(),
          this.initEvents();
      }
      initEvents() {
        window.addEventListener('resize', () => this.resize());
      }
      resize() {
        TweenMax.set(this.DOM.el, this.defaultStyle), this.getRect();
      }
      getRect() {
        this.rect = this.DOM.el.getBoundingClientRect();
      }
      isActive() {
        return (
          TweenMax.isTweening(this.DOM.el) || 0 != this.DOM.el.style.opacity
        );
      }
    }
    class a {
      constructor() {
        (this.DOM = {
          content: document.querySelector(
            'section.hero-alt-trial figure.images'
          ),
        }),
          (this.images = []),
          [...this.DOM.content.querySelectorAll('img')].forEach((e) =>
            this.images.push(new s(e))
          ),
          (this.imagesTotal = this.images.length),
          (this.imgPosition = 0),
          (this.zIndexVal = 1),
          (this.threshold = 100),
          requestAnimationFrame(() => this.render());
      }
      render() {
        let e = i();
        if (
          ((cacheMousePos.x = t.lerp(cacheMousePos.x || n.x, n.x, 0.1)),
          (cacheMousePos.y = t.lerp(cacheMousePos.y || n.y, n.y, 0.1)),
          e > this.threshold)
        ) {
          let e = this;
          0 != $('.hero-alt-trial:hover').length && e.showNextImage(),
            ++this.zIndexVal,
            (this.imgPosition =
              this.imgPosition < this.imagesTotal - 1
                ? this.imgPosition + 1
                : 0),
            (lastMousePos = n);
        }
        let o = !0;
        for (let e of this.images)
          if (e.isActive()) {
            o = !1;
            break;
          }
        o && 1 !== this.zIndexVal && (this.zIndexVal = 1),
          requestAnimationFrame(() => this.render());
      }
      showNextImage() {
        const e = this.images[this.imgPosition];
        TweenMax.killTweensOf(e.DOM.el),
          new TimelineMax()
            .set(
              e.DOM.el,
              {
                startAt: { opacity: 0, scale: 1 },
                opacity: 1,
                scale: 1,
                zIndex: this.zIndexVal,
                x: cacheMousePos.x - e.rect.width / 2,
                y: cacheMousePos.y - e.rect.height / 2,
              },
              0
            )
            .to(
              e.DOM.el,
              0.9,
              {
                ease: Expo.easeOut,
                x: n.x - e.rect.width / 2,
                y: n.y - e.rect.height / 2,
              },
              0
            )
            .to(e.DOM.el, 1, { ease: Power1.easeOut, opacity: 0 }, 0.4)
            .to(e.DOM.el, 1, { ease: Quint.easeOut, scale: 0.2 }, 0.4);
      }
    }
    new a();
  }
}
function fnHeroArticle(e, t) {
  t = $(t);
  var o = new SplitText('section.hero-article h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero-article h1', {
    type: 'lines',
    linesClass: 'split-parent',
  });
  gsap
    .timeline()
    .from(
      o.lines,
      {
        duration: 1.5,
        yPercent: 100,
        transformOrigin: 'right top',
        skewType: 'simple',
        ease: 'power4',
        stagger: 0.1,
        onStart: () => {
          gsap.set('section.hero-article h1', { opacity: 1 });
        },
      },
      0.5
    )
    .fromTo(
      'section.hero-article .label',
      { opacity: 0, y: 0 },
      { opacity: 1 },
      0.5
    );
}
function fnHeroCampaign(e, t) {
  t = $(t);
  var o = new SplitText('h1', { type: 'lines', linesClass: 'split-child' });
  function n(e) {
    e.preventDefault();
    const t = this.getAttribute('href').replace('#', '.'),
      { offsetTop: o } = document.querySelector(`${t}`);
    scroll.scrollTo(o);
  }
  new SplitText(t.find('h1'), { type: 'lines', linesClass: 'split-parent' }),
    $('.split-child').css('text-align', 'center'),
    gsap.from(o.lines, {
      duration: 1.5,
      yPercent: 100,
      delay: 0.5,
      ease: 'power4',
      stagger: 0.1,
      transformOrigin: 'center',
    }),
    gsap.delayedCall(0.75, () => {
      gsap.fromTo(
        t.find('.inner'),
        { scaleX: 0 },
        {
          transformOrigin: 'left',
          duration: 1.25,
          scaleX: 1,
          ease: Power4.easeInOut,
        },
        0.25
      ),
        gsap.delayedCall(1, () => {
          gsap.to(t.find('.background'), {
            scaleX: 0,
            duration: 1.5,
            transformOrigin: 'right',
            ease: Power4.easeInOut,
          });
        });
    }),
    TweenMax.from(
      t.find('.description', '.cta', '.label', '.scrolldown > .icon'),
      1,
      { opacity: 0, y: 50, delay: 0.5 }
    ),
    TweenMax.from(t.find('.circle'), 1, { opacity: 0, delay: 2 }),
    gsap.delayedCall(1, () => {
      const e = document.querySelector('.texture');
      TweenMax.fromTo(e, 1, { opacity: 0, y: -50 }, { opacity: 1, y: 0 });
    });
  document.querySelectorAll('.cta').forEach((e) => {
    e.addEventListener('click', n);
  });
}
function fnHeroFilters(e, t) {
  t = $(t);
  function o(e) {
    let t = [],
      o = $(e).parent().parent().parent();
    $('input:checkbox', o).each(function () {
      1 == $(this).prop('checked') && t.push($(this).attr('name'));
    }),
      $('input[name=submit-filters]', o).attr('value', `Filter (${t.length})`);
  }
  $('.filter-icon').click(function () {
    $('.filters').toggleClass('show');
  }),
    $('input:checkbox').each(function () {
      if ($(this).is(':checked')) {
        var e = $(this).parent().text(),
          t = $(this).val();
        $('.selected-filters').append(
          `<div class="tag" data-slug="${t}"><span>${e}</span><i></i></div>`
        );
      }
    }),
    $('.selected-filters .tag').click(function () {
      $('input:checkbox[value="' + $(this).data('slug') + '"]').prop(
        'checked',
        !1
      ),
        $('#filters-form').submit();
    }),
    $('.background-overlay').click(function () {
      $('.background-overlay').toggleClass('show'),
        $('.filter-options').removeClass('show');
    }),
    $('.filters .single').click(function () {
      $('.background-overlay').addClass('show'),
        $('.filter-options').removeClass('show'),
        $('.filter-options', this).toggleClass('show');
    }),
    (function () {
      let e = [],
        t = $(this).parent();
      $('.checkmark').click(function () {
        let e = $('input:checkbox', t);
        e.is(':checked') ? e.prop('checked', !0) : e.prop('checked', !1);
      }),
        $('.single').each(function () {
          $('input:checkbox', this).each(function () {
            1 == $(this).prop('checked') && e.push($(this).attr('name'));
          }),
            $('.filter-options input[name=submit-filters]', this).attr(
              'value',
              `Filter (${e.length})`
            ),
            (e = []);
        }),
        $('input:checkbox').change(function () {
          o(this);
        });
    })(),
    $('.clear-filter').click(function () {
      let e = $(this).parent().parent();
      $('input:checkbox', e).prop('checked', !1), o(this);
    });
}
function fnHeroInsight(e, t) {
  t = $(t);
  const o = document.querySelector('section.hero-insight h1'),
    n = document.querySelector('section.hero-insight .label');
  gsap.set(o, { opacity: 0 }), gsap.set(n, { opacity: 0 });
  var i = new SplitText('section.hero-insight h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero-insight h1', {
    type: 'lines',
    linesClass: 'split-parent',
  }),
    gsap.from(
      i.lines,
      {
        duration: 1.5,
        yPercent: 100,
        transformOrigin: 'right top',
        skewType: 'simple',
        ease: 'power4',
        stagger: 0.1,
        onStart: () => {
          gsap.set(o, { opacity: 1 }), gsap.set(n, { opacity: 1 });
        },
      },
      1
    ),
    TweenMax.fromTo(n, 1, { opacity: 0, y: 25 }, { opacity: 1, y: 0 });
}
function fnHeroMontage() {
  var e = $('.hero-montage'),
    t = new TimelineMax(),
    o = new ScrollMagic.Controller(),
    n = $('.background-cover', e);
  e = $('.background-inner', e);
  t.from(n, 0.8, {
    scaleX: 0,
    transformOrigin: 'left',
    ease: 'slow(0.7, 0.7, false)',
  }),
    t.to(
      n,
      0.8,
      { scaleX: 0, transformOrigin: 'right', ease: 'slow(0.7, 0.7, false)' },
      'reveal'
    ),
    t.from(
      e,
      0.1,
      { delay: 0, opacity: 0, ease: Power4.easeInOutQuart },
      'reveal'
    ),
    new ScrollMagic.Scene({
      triggerElement: this,
      triggerHook: 0.7,
      reverse: !1,
    })
      .setTween(t)
      .addTo(o);
  var i = new SplitText('.hero-montage h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('.hero-montage h1', {
    type: 'lines',
    linesClass: 'split-parent',
  }),
    gsap.from(i.lines, {
      duration: 1.5,
      yPercent: 100,
      delay: 1,
      transformOrigin: 'right top',
      skewType: 'simple',
      ease: 'power4',
      stagger: 0.1,
    });
}
function fnHeroWork(e, t) {
  t = $(t);
  var o = new SplitText('section.hero-work h1', {
    type: 'lines',
    linesClass: 'split-child',
  });
  new SplitText('section.hero-work h1', {
    type: 'lines',
    linesClass: 'split-parent',
  });
  gsap.timeline().from(
    o.lines,
    {
      duration: 1.5,
      yPercent: 100,
      transformOrigin: 'right top',
      skewType: 'simple',
      ease: 'power4',
      stagger: 0.1,
      onStart: () => {
        gsap.set('section.hero-work h1', { opacity: 1 });
      },
    },
    0.5
  );
}
function fnHomeHero(e, t) {
  t = $(t);
  var o = $('.slides', t),
    n = $('nav.menu', t),
    i = $('nav.arrows', t);
  o.flickity({
    cellAlign: 'left',
    wrapAround: !1,
    autoPlay: !1,
    adaptiveHeight: !1,
    friction: 0.4,
    draggable: !1,
    contain: !0,
    accessibility: !1,
    prevNextButtons: !1,
    pageDots: !1,
    fade: !0,
  });
  var s = o.data('flickity'),
    a = s.slides.length,
    r = s.selectedIndex,
    c = '';
  var l = new (function (e, t) {
    var o,
      n,
      i = 0,
      s = 0;
    (this.pause = function () {
      1 == s && ((i = t - (new Date() - n)), window.clearInterval(o), (s = 2));
    }),
      (this.resume = function () {
        2 == s && ((s = 3), window.setTimeout(this.timeoutCallback, i));
      }),
      (this.timeoutCallback = function () {
        3 == s &&
          (e(), (n = new Date()), (o = window.setInterval(e, t)), (s = 1));
      }),
      (n = new Date()),
      (o = window.setInterval(e, t)),
      (s = 1);
  })(function () {
    var e = r + 1;
    p(e === a ? 0 : e);
  }, 8e3);
  o.on('change.flickity', function (e, t) {
    $('.flickity-viewport').addClass('is-pointer-down'),
      l.pause(),
      window.setTimeout(function () {
        l.resume();
      }, 8e3),
      clearTimeout(c),
      (c = setTimeout(function () {
        h();
      }, 1800)),
      (r = s.selectedIndex);
  });
  var d = !1,
    u = $('.next_slide_overlay');
  function p(e) {
    let i = 0;
    (i = $(window).width() >= 1024 ? 1250 : 1e3),
      $('li:eq(' + e + ')', n)
        .siblings('li.-active')
        .removeClass('-active'),
      $('.flickity-viewport', t).addClass('is-pointer-down'),
      setTimeout(function () {
        o.flickity('select', e);
      }, 1e3),
      setTimeout(function () {
        $('li:eq(' + e + ')', n).addClass('-active'),
          setTimeout(function () {
            $('.flickity-viewport', t).removeClass('is-pointer-down');
          }, 500);
      }, i);
  }
  function h() {
    if ((f('current'), $('.video_frame', s.selectedElement).length > 0)) {
      var e = $('.video_frame', s.selectedElement),
        t = $('video', e);
      0 == $('video', e).length
        ? (((t = document.createElement('video')).src = (function (e) {
            let t = $(window).width();
            return t > 1400
              ? e['1080p'].url
              : t > 1e3
              ? e['720p'].url
              : t > 700
              ? e['540p'].url
              : t > 320
              ? e['360p'].url
              : e['240p'].url;
          })(e.data('vimeo-json'))),
          (t.muted = !0),
          (t.loop = !0),
          (t.playsinline = !0),
          e.append(t))
        : (t = t.get(0)),
        e.addClass('played'),
        t.play(),
        (t.onplaying = () => {
          e.parent().fadeIn();
        });
    }
  }
  function f(e = 'current') {
    'current' == e
      ? ((oVideo = $('.video_frame', s.selectedElement)),
        oVideo.hasClass('played') &&
          oVideo.find('video').each(function () {
            this.pause(), oVideo.removeClass('played');
          }),
        $(s.selectedElement)
          .siblings()
          .find('video')
          .each(function () {
            $(this).parent().hasClass('played') &&
              (this.pause(), $(this).parent().removeClass('played'));
          }))
      : $(s.element)
          .find('video')
          .each(function () {
            $(this).parent().hasClass('played') &&
              (this.pause(), $(this).parent().removeClass('played'));
          });
  }
  u.on('mousedown', function (e) {
    u.on('mouseup mousemove', function e(t) {
      'mouseup' != t.type && (d = !0), u.off('mouseup mousemove', e);
    });
  }),
    setInterval(function () {
      d && (p(r + 1), (d = !1));
    }, 1e3),
    setTimeout(function () {
      h();
    }, 1e3),
    $('li', n).on('click', function () {
      $(this).hasClass('-active') || p($(this).index());
    }),
    $('i.arrows_arrow.-prev', i).on('click', function () {
      p(r - 1);
    }),
    $('i.arrows_arrow.-next', i).on('click', function () {
      p(r + 1);
    }),
    $('.content_header', o).on('click', function () {
      $(this).closest('.slide').hasClass('.is-selected') || p(r + 1);
    }),
    window.loco.on('scroll', (e) => {
      'object' != typeof e.currentElements.el0 ? f('all') : h();
    });
}
function fnHoverImgLinks(e, t) {
  t = $(t);
  function o(e) {
    e.preventDefault();
    const t = this.getAttribute('href').replace('#', '.'),
      { offsetTop: o } = document.querySelector(`${t}`);
    scroll.scrollTo(o);
  }
  $('a', t).hover(function () {
    $('img', t).attr('src', $(this).data('image'));
  });
  document.querySelectorAll('.cta').forEach((e) => {
    e.addEventListener('click', o);
  });
}
function fnImgReveal(e, t) {
  t = $(t);
  var o = new TimelineMax(),
    n = new ScrollMagic.Controller(),
    i = $('.img-reveal_cover', t);
  t = $('.img_src', t);
  o.from(i, 0.6, {
    scaleX: 0,
    transformOrigin: 'left',
    ease: 'slow(0.7, 0.7, false)',
  }),
    o.to(
      i,
      0.6,
      { scaleX: 0, transformOrigin: 'right', ease: 'slow(0.7, 0.7, false)' },
      'reveal'
    ),
    o.from(
      t,
      0.1,
      { delay: 0, opacity: 0, ease: Power4.easeInOutQuart },
      'reveal'
    ),
    new ScrollMagic.Scene({
      triggerElement: this,
      triggerHook: 0.7,
      reverse: !1,
    })
      .setTween(o)
      .addTo(n);
}
function fnIndentedAccords(e, t) {
  $(t)
    .find('h2')
    .on('click', function () {
      var e = $(this).parent(t),
        o = $(e).find('.toggle');
      (oSiblingAccordions = $(e).siblings(t)),
        $(e).hasClass('open')
          ? ($(e).removeClass('open'),
            $(o)
              .slideUp('slow')
              .animate({ opacity: 0 }, { queue: !1, duration: 'slow' }))
          : ($(e).addClass('open'),
            $(o)
              .css('opacity', 0)
              .slideDown('slow')
              .animate({ opacity: 1 }, { queue: !1, duration: 'slow' }),
            $(oSiblingAccordions)
              .removeClass('open')
              .find('.toggle')
              .slideUp('slow')
              .animate({ opacity: 0 }, { queue: !1, duration: 'slow' }));
    });
}
function fnInstaTrail(e, t) {
  t = $(t);
  var o = $('figure.images', t);
  window.addEventListener(
    'load',
    (function () {
      if ($(window).width() > 1230 && o.length > 0) {
        const e = document.body,
          t = {
            lerp: (e, t, o) => (1 - o) * e + o * t,
            distance: (e, t, o, n) => Math.hypot(o - e, n - t),
          },
          o = (t) => {
            let o = 0,
              n = 0;
            return (
              t || (t = window.event),
              t.pageX || t.pageY
                ? ((o = t.pageX), (n = t.pageY))
                : (t.clientX || t.clientY) &&
                  ((o = t.clientX + e.scrollLeft + docEl.scrollLeft),
                  (n = t.clientY + e.scrollTop + docEl.scrollTop)),
              { x: o, y: n }
            );
          };
        let n = (lastMousePos = cacheMousePos = { x: 0, y: 0 });
        window.addEventListener('mousemove', (e) => (n = o(e)));
        const i = () => t.distance(n.x, n.y, lastMousePos.x, lastMousePos.y);
        class s {
          constructor(e) {
            (this.DOM = { el: e }),
              (this.defaultStyle = { scale: 1, x: 0, y: 0, opacity: 0 }),
              this.getRect(),
              this.initEvents();
          }
          initEvents() {
            window.addEventListener('resize', () => this.resize());
          }
          resize() {
            TweenMax.set(this.DOM.el, this.defaultStyle), this.getRect();
          }
          getRect() {
            this.rect = this.DOM.el.getBoundingClientRect();
          }
          isActive() {
            return (
              TweenMax.isTweening(this.DOM.el) || 0 != this.DOM.el.style.opacity
            );
          }
        }
        class a {
          constructor() {
            (this.DOM = {
              content: document.querySelector(
                'section.insta-trail figure.images'
              ),
            }),
              (this.images = []),
              [...this.DOM.content.querySelectorAll('img')].forEach((e) =>
                this.images.push(new s(e))
              ),
              (this.imagesTotal = this.images.length),
              (this.imgPosition = 0),
              (this.zIndexVal = 1),
              (this.threshold = 100),
              requestAnimationFrame(() => this.render());
          }
          render() {
            let e = i();
            if (
              ((cacheMousePos.x = t.lerp(cacheMousePos.x || n.x, n.x, 0.1)),
              (cacheMousePos.y = t.lerp(cacheMousePos.y || n.y, n.y, 0.1)),
              e > this.threshold)
            ) {
              let e = this;
              0 != $('.insta-trail:hover').length && e.showNextImage(),
                ++this.zIndexVal,
                (this.imgPosition =
                  this.imgPosition < this.imagesTotal - 1
                    ? this.imgPosition + 1
                    : 0),
                (lastMousePos = n);
            }
            let o = !0;
            for (let e of this.images)
              if (e.isActive()) {
                o = !1;
                break;
              }
            o && 1 !== this.zIndexVal && (this.zIndexVal = 1),
              requestAnimationFrame(() => this.render());
          }
          showNextImage() {
            const e = this.images[this.imgPosition];
            TweenMax.killTweensOf(e.DOM.el),
              new TimelineMax()
                .set(
                  e.DOM.el,
                  {
                    startAt: { opacity: 0, scale: 1 },
                    opacity: 1,
                    scale: 1,
                    zIndex: this.zIndexVal,
                    x: cacheMousePos.x - e.rect.width / 2,
                    y: cacheMousePos.y - e.rect.height / 2,
                  },
                  0
                )
                .to(
                  e.DOM.el,
                  0.9,
                  {
                    ease: Expo.easeOut,
                    x: n.x - e.rect.width / 2,
                    y: n.y - e.rect.height / 2,
                  },
                  0
                )
                .to(e.DOM.el, 1, { ease: Power1.easeOut, opacity: 0 }, 0.4)
                .to(e.DOM.el, 1, { ease: Quint.easeOut, scale: 0.2 }, 0.4);
          }
        }
        new a();
      }
    })()
  );
}
function fnLeftCarousel(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.arrows-block', t);
  o.flickity({
    cellAlign: 'left',
    fade: !0,
    wrapAround: !0,
    autoPlay: !1,
    adaptiveHeight: !1,
    freeScroll: !0,
    freeScrollFriction: 0.03,
    contain: !0,
    accessibility: !1,
    prevNextButtons: !1,
    pageDots: !1,
  }),
    $('nav.arrows_next', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('next');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    $('nav.arrows_prev', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('previous');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    ScrollTrigger.refresh();
}
function fnMagnetize() {
  $(window).width() > 1024 &&
    $(document).on('mousemove', function (e) {
      fnMagnetizeInit('.magnet', e);
    });
}
function fnMagnetizeInit(e, t) {
  var o = t.pageX,
    n = t.pageY;
  $(e).each(function (e, t) {
    var i = 20 * (t = $(t)).data('dist') || 120,
      s = t.offset().left + t.outerWidth() / 2,
      a = t.offset().top + t.outerHeight() / 2,
      r = -0.3 * Math.floor(s - o),
      c = -0.3 * Math.floor(a - n),
      l = fnMagnetizeDistance(t, o, n),
      d = t.data('scale'),
      u = 1;
    1 == d && (u = 1.075);
    l < i
      ? (TweenMax.to(t, 0.3, { y: c, x: r, scale: u }), t.addClass('-attached'))
      : (TweenMax.to(t, 0.3, { y: 0, x: 0, scale: 1 }),
        t.removeClass('-attached'));
  });
}
function fnMagnetizeDistance(e, t, o) {
  e = $(e);
  return Math.floor(
    Math.sqrt(
      Math.pow(t - (e.offset().left + e.outerWidth() / 2), 2) +
        Math.pow(o - (e.offset().top + e.outerHeight() / 2), 2)
    )
  );
}
function fnMarqueeDivider(e, t) {
  Marquee3k.init();
}
function fnMediaCarousel(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.arrows', t),
    i = null,
    s = !1;
  const a = o.get(0),
    r = () => {
      s ||
        (i.slides &&
          ((i.x = (i.x - 2) % i.slideableWidth),
          (i.selectedIndex = i.dragEndRestingSelect()),
          i.updateSelectedSlide(),
          i.settle(i.x)),
        window.requestAnimationFrame(r));
    },
    c = () => {
      s = !0;
    },
    l = () => {
      s && ((s = !1), window.requestAnimationFrame(r));
    };
  ((i = new Flickity(a, {
    autoPlay: !1,
    prevNextButtons: !1,
    pageDots: !1,
    draggable: !0,
    wrapAround: !0,
    selectedAttraction: 0.015,
    friction: 0.25,
  })).x = 0),
    a.addEventListener('mouseenter', c, !1),
    a.addEventListener('focusin', c, !1),
    a.addEventListener('mouseleave', l, !1),
    a.addEventListener('focusout', l, !1),
    i.on('dragStart', () => {
      s = !0;
    }),
    n.on('click', '.prev', () => {
      i.previous(), (s = !0);
    }),
    n.on('click', '.next', () => {
      i.next(), (s = !0);
    }),
    r(),
    ScrollTrigger.refresh();
}
function fnNewsletterModal(e, t) {
  t = $(t);
  Cookies.get('close-newsletter') ||
    setTimeout(function () {
      $('body:not(.home) .newsletter').addClass('show');
    }, 1e4),
    $('.close', t).click(function (e) {
      e.preventDefault(),
        $('.newsletter').removeClass('show'),
        $('.newsletter').addClass('hide'),
        Cookies.set('close-newsletter', 1, { expires: 30 }),
        setTimeout(function () {
          $('.newsletter').removeClass('hide');
        }, 500);
    }),
    $('.gform_footer', t).addClass('disabled'),
    $('.disabled', t).click(function () {
      $('#checkbox-newsletter').parent().addClass('error');
    }),
    $('#checkbox-newsletter').click(function () {
      $(this).is(':checked')
        ? ($('#checkbox-newsletter').parent().removeClass('error'),
          $('.gform_footer', t).removeClass('disabled'))
        : ($('#checkbox-newsletter').parent().addClass('error'),
          $('.gform_footer', t).addClass('disabled'));
    });
}
function fnPageFade() {
  var e = $('body');
  function t() {
    window.location = sNewLocation;
  }
  e.addClass('-loaded'),
    TweenLite.to(
      $('body, .o-scroll'),
      2,
      { delay: 0.6, opacity: 1, ease: Power4.easeOut },
      0
    ),
    $(
      'a:not([href^="#"]):not([href^="mailto:"]):not([href^="tel:"]):not(.no-transition)'
    ).click(function (o) {
      o.preventDefault(),
        e.removeClass('-loaded').addClass('-leaving'),
        TweenLite.to(
          $('body, .o-scroll'),
          0.7,
          { delay: 0, opacity: 0, ease: Power4.easeOut },
          0
        ),
        (sNewLocation = this.href),
        setTimeout(t, 700);
    });
}
function fnPaginateTrial(e, t) {
  t = $(t);
  var o = $('figure.images', t);
  if ($(window).width() > 1230 && o.length > 0) {
    const e = document.body,
      t = {
        lerp: (e, t, o) => (1 - o) * e + o * t,
        distance: (e, t, o, n) => Math.hypot(o - e, n - t),
      },
      o = (t) => {
        let o = 0,
          n = 0;
        return (
          t || (t = window.event),
          t.pageX || t.pageY
            ? ((o = t.pageX), (n = t.pageY))
            : (t.clientX || t.clientY) &&
              ((o = t.clientX + e.scrollLeft + docEl.scrollLeft),
              (n = t.clientY + e.scrollTop + docEl.scrollTop)),
          { x: o, y: n }
        );
      };
    let n = (lastMousePos = cacheMousePos = { x: 0, y: 0 });
    window.addEventListener('mousemove', (e) => (n = o(e)));
    const i = () => t.distance(n.x, n.y, lastMousePos.x, lastMousePos.y);
    class s {
      constructor(e) {
        (this.DOM = { el: e }),
          (this.defaultStyle = { scale: 1, x: 0, y: 0, opacity: 0 }),
          this.getRect(),
          this.initEvents();
      }
      initEvents() {
        window.addEventListener('resize', () => this.resize());
      }
      resize() {
        TweenMax.set(this.DOM.el, this.defaultStyle), this.getRect();
      }
      getRect() {
        this.rect = this.DOM.el.getBoundingClientRect();
      }
      isActive() {
        return (
          TweenMax.isTweening(this.DOM.el) || 0 != this.DOM.el.style.opacity
        );
      }
    }
    class a {
      constructor() {
        (this.DOM = {
          content: document.querySelector(
            'section.paginate-trial figure.images'
          ),
        }),
          (this.images = []),
          [...this.DOM.content.querySelectorAll('img')].forEach((e) =>
            this.images.push(new s(e))
          ),
          (this.imagesTotal = this.images.length),
          (this.imgPosition = 0),
          (this.zIndexVal = 1),
          (this.threshold = 100),
          requestAnimationFrame(() => this.render());
      }
      render() {
        let e = i();
        (cacheMousePos.x = t.lerp(cacheMousePos.x || n.x, n.x, 0.1)),
          (cacheMousePos.y = t.lerp(cacheMousePos.y || n.y, n.y, 0.1)),
          e > this.threshold &&
            (this.showNextImage(),
            ++this.zIndexVal,
            (this.imgPosition =
              this.imgPosition < this.imagesTotal - 1
                ? this.imgPosition + 1
                : 0),
            (lastMousePos = n));
        let o = !0;
        for (let e of this.images)
          if (e.isActive()) {
            o = !1;
            break;
          }
        o && 1 !== this.zIndexVal && (this.zIndexVal = 1),
          requestAnimationFrame(() => this.render());
      }
      showNextImage() {
        const e = this.images[this.imgPosition];
        TweenMax.killTweensOf(e.DOM.el),
          new TimelineMax()
            .set(
              e.DOM.el,
              {
                startAt: { opacity: 0, scale: 1 },
                opacity: 1,
                scale: 1,
                zIndex: this.zIndexVal,
                x: cacheMousePos.x - e.rect.width / 2,
                y: cacheMousePos.y - e.rect.height / 2,
              },
              0
            )
            .to(
              e.DOM.el,
              0.9,
              {
                ease: Expo.easeOut,
                x: n.x - e.rect.width / 2,
                y: n.y - e.rect.height / 2,
              },
              0
            )
            .to(e.DOM.el, 1, { ease: Power1.easeOut, opacity: 0 }, 0.4)
            .to(e.DOM.el, 1, { ease: Quint.easeOut, scale: 0.2 }, 0.4);
      }
    }
    new a();
  }
}
function fnPreloader(e, t) {
  t = $(t);
}
function fnProjectsListing(e, t) {
  t = $(t);
  console.log(load_more),
    $('#load-more', t).on('click', function () {
      var e = $(this),
        o = {
          action: 'load_more',
          query: load_more.posts,
          page: load_more.current_page,
          nonce: load_more.nonce,
        };
      t.addClass('loading'),
        $.ajax({
          data: o,
          dataType: 'json',
          type: 'GET',
          url: load_more.ajaxurl,
          complete: function (e) {
            console.log('error');
          },
          success: function (o) {
            $('.load-more-target .list', t).append(o.html),
              load_more.current_page++,
              load_more.current_page == load_more.max_page && e.remove(),
              window.loco.update(),
              t.removeClass('loading');
          },
        });
    });
}
function fnRevealHeading(e, t) {
  t = $(t);
  var o = new SplitText('h1', { type: 'lines', linesClass: 'split-child' });
  new SplitText('h1', { type: 'lines', linesClass: 'split-parent' }),
    gsap.from(o.lines, {
      duration: 1.5,
      yPercent: 100,
      delay: 0.5,
      ease: 'power4',
      stagger: 0.1,
    });
}
function fnSectionReveal(e, t) {
  t = $(t);
  var o = new TimelineMax(),
    n = new ScrollMagic.Controller(),
    i = $('.background-cover', t);
  t = $('.background-inner', t);
  o.from(i, 0.8, {
    scaleX: 0,
    transformOrigin: 'left',
    ease: 'slow(0.7, 0.7, false)',
  }),
    o.to(
      i,
      0.8,
      { scaleX: 0, transformOrigin: 'right', ease: 'slow(0.7, 0.7, false)' },
      'reveal'
    ),
    o.from(
      t,
      0.1,
      { delay: 0, opacity: 0, ease: Power4.easeInOutQuart },
      'reveal'
    ),
    new ScrollMagic.Scene({
      triggerElement: this,
      triggerHook: 0.7,
      reverse: !1,
    })
      .setTween(o)
      .addTo(n);
}
function fnServicesMarquee(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.arrows-block .arrows_prev', t),
    i = $('.arrows-block .arrows_next', t),
    s = $('.progress-bar', t);
  new Swiper(o.get(0), {
    loop: !0,
    slidesPerView: 'auto',
    loopAdditionalSlides: 6,
    watchSlidesProgress: !0,
    freeMode: { enabled: !0, sticky: !0 },
    pagination: {
      el: s.get(0),
      type: 'progressbar',
      modifierClass: 'marquee-',
    },
    navigation: { prevEl: n.get(0), nextEl: i.get(0) },
    breakpoints: { 1362: { slidesPerView: 3 } },
  });
  return !1;
}
function fnStackedCarouselAsideText(e, t) {
  var o = (t = $(t)).find('.carousel'),
    n = 0;
  new Swiper(o.get(0), {
    loop: !0,
    effect: 'coverflow',
    coverflowEffect: {
      rotate: 0,
      stretch: 300,
      depth: 400,
      modifier: 1,
      slideShadows: !1,
    },
    loopAdditionalSlides: 7,
    centeredSlides: !0,
    navigation: {
      prevEl: t.find('.arrows_prev').get(0),
      nextEl: t.find('.arrows_next').get(0),
    },
    on: {
      slideChangeTransitionStart: function () {
        n = this.visibleSlidesIndexes.length;
      },
      slideChange: function () {
        $('.single-post', t).removeClass('show'),
          $('.single-post[data-post="' + this.realIndex + '"]', t).addClass(
            'show'
          );
      },
      setTranslate: function () {
        var e = this;
        n || (n = this.visibleSlidesIndexes.length),
          jQuery(this.slides).each(function (t) {
            var o = e.slidesGrid[t],
              i = 1 - (-e.translate - o) / jQuery(this).outerWidth(!0),
              s = i;
            s >= n - 3 && (s = n - i + 3),
              s > 5 && (s = 0),
              jQuery(this).css({
                opacity: s,
                transition: jQuery(e.$wrapperEl).css('transition-duration'),
              });
          });
      },
    },
  });
  $(window).width();
}
function fnStackedTiles(e, t) {
  t = $(t);
  const o = $('section.stacked-tiles .post');
  gsap.timeline().from(
    o,
    {
      duration: 1.5,
      yPercent: 100,
      transformOrigin: 'right top',
      skewType: 'simple',
      ease: 'power4',
      stagger: 0.1,
      onStart: () => {
        gsap.set(o, { opacity: 1 });
      },
    },
    0.5
  );
}
function fnStaffListCarousel(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = !1;
  let i = { loop: !0, slidesPerView: 'auto', init: !1 };
  o.each(function () {
    $(this).get(0).swiper = new Swiper($(this).get(0), i);
  });
  function s(e) {
    e.preventDefault();
    const t = this.getAttribute('href'),
      o = document.querySelector('#' + t);
    scroll.scrollTo(o);
  }
  document.querySelectorAll('.categories a').forEach((e) => {
    e.addEventListener('click', s);
  }),
    $(t)
      .find('h2')
      .on('click', function () {
        var e = $(this).parent(t),
          o = $(e).find('.toggle'),
          n = $(e).siblings(t),
          s = $(e).find('.trigger'),
          a = $(e).find('.slider');
        $(e).hasClass('open')
          ? ($(e).removeClass('open'),
            $(s).removeClass('open'),
            $(o)
              .slideUp('slow')
              .animate({ opacity: 0 }, { queue: !1, duration: 'slow' }))
          : ($('.trigger').removeClass('open'),
            $(s).addClass('open'),
            $(e).addClass('open'),
            $(o)
              .css('opacity', 0)
              .slideDown('slow')
              .animate({ opacity: 1 }, { queue: !1, duration: 'slow' }),
            $(n)
              .removeClass('open')
              .find('.toggle')
              .slideUp('slow')
              .animate({ opacity: 0 }, { queue: !1, duration: 'slow' })),
          a.get(0).swiper || (a.get(0).swiper = new Swiper(a.get(0), i)),
          a.get(0).swiper.init();
      }),
    $(window).width() < 1024 && (n = !0),
    window.addEventListener('resize', () => {
      $(window).width() < 1024 && (n = !0),
        $(window).width() > 1024 &&
          1 == n &&
          (o.each(function () {
            $(this).hasClass('swiper-initialized') &&
              void 0 !== $(this).get(0).swiper &&
              $(this).get(0).swiper &&
              $(this).get(0).swiper.destroy();
          }),
          (n = !1));
    });
}
function fnStatementImgTrial(e, t) {
  t = $(t);
  var o = $('figure.images.active', t),
    n = $('.slider', t),
    i = $('.item', t).length,
    s = ($('.label', t), !1);
  if (
    ($(window).width() < 1230 &&
      (n.flickity({
        prevNextButtons: !1,
        pageDots: !1,
        wrapAround: !0,
        autoPlay: !0,
      }),
      n.on('change.flickity', function (e, t) {
        let o = $('.is-selected', n).data('images');
        $('figure.images').removeClass('active'), $(`#${o}`).addClass('active');
      })),
    $(window).width() > 1230 && o.length > 0)
  ) {
    const e = document.body,
      o = {
        lerp: (e, t, o) => (1 - o) * e + o * t,
        distance: (e, t, o, n) => Math.hypot(o - e, n - t),
      },
      a = (t) => {
        let o = 0,
          n = 0;
        return (
          t || (t = window.event),
          t.pageX || t.pageY
            ? ((o = t.pageX), (n = t.pageY))
            : (t.clientX || t.clientY) &&
              ((o = t.clientX + e.scrollLeft + docEl.scrollLeft),
              (n = t.clientY + e.scrollTop + docEl.scrollTop)),
          { x: o, y: n }
        );
      };
    let r = (lastMousePos = cacheMousePos = { x: 0, y: 0 });
    window.addEventListener('mousemove', (e) => (r = a(e)));
    const c = () => o.distance(r.x, r.y, lastMousePos.x, lastMousePos.y);
    class l {
      constructor(e) {
        (this.DOM = { el: e }),
          (this.defaultStyle = { scale: 1, x: 0, y: 0, opacity: 0 }),
          this.getRect(),
          this.initEvents();
      }
      initEvents() {
        window.addEventListener('resize', () => this.resize());
      }
      resize() {
        TweenMax.set(this.DOM.el, this.defaultStyle), this.getRect();
      }
      getRect() {
        this.rect = this.DOM.el.getBoundingClientRect();
      }
      isActive() {
        return (
          TweenMax.isTweening(this.DOM.el) || 0 != this.DOM.el.style.opacity
        );
      }
    }
    class d {
      constructor() {
        let e = this;
        n.flickity({
          prevNextButtons: !1,
          pageDots: !1,
          wrapAround: !0,
          autoPlay: 3500,
          on: {
            ready: function () {
              e.animateFrame();
            },
          },
        });
        var t = n.selectedIndex;
        n.flickity('pausePlayer'),
          window.loco.on('scroll', (e) => {
            'object' == typeof e.currentElements['statement-img-trial'] &&
              n.flickity('unpausePlayer');
          }),
          n.on('change.flickity', function (o, a) {
            if ((t == i - 1 && 0 === a) || a - t > 0) {
              let e = a + 1;
              0 == s && i == e && ($('nav').addClass('show'), (s = !0));
            }
            t = a;
            let r = $('.is-selected', n).data('images');
            $('figure.images').removeClass('active'),
              $(`#${r}`).addClass('active'),
              e.animateFrame();
          });
      }
      animateFrame() {
        (this.DOM = {
          content: document.querySelector(
            'section.statement-img-trial figure.images.active'
          ),
        }),
          (this.images = []),
          [...this.DOM.content.querySelectorAll('img')].forEach((e) =>
            this.images.push(new l(e))
          ),
          (this.imagesTotal = this.images.length),
          (this.imgPosition = 0),
          (this.zIndexVal = 1),
          (this.threshold = 100),
          requestAnimationFrame(() => this.render());
      }
      render() {
        let e = c();
        (cacheMousePos.x = o.lerp(cacheMousePos.x || r.x, r.x, 0.1)),
          (cacheMousePos.y = o.lerp(cacheMousePos.y || r.y, r.y, 0.1)),
          e > this.threshold &&
            (this.showNextImage(),
            ++this.zIndexVal,
            (this.imgPosition =
              this.imgPosition < this.imagesTotal - 1
                ? this.imgPosition + 1
                : 0),
            (lastMousePos = r));
        let t = !0;
        for (let e of this.images)
          if (e.isActive()) {
            t = !1;
            break;
          }
        t && 1 !== this.zIndexVal && (this.zIndexVal = 1),
          requestAnimationFrame(() => this.render());
      }
      showNextImage() {
        const e = this.images[this.imgPosition];
        TweenMax.killTweensOf(e.DOM.el),
          new TimelineMax()
            .set(
              e.DOM.el,
              {
                startAt: { opacity: 0, scale: 1 },
                opacity: 1,
                scale: 1,
                zIndex: this.zIndexVal,
                x: cacheMousePos.x - e.rect.width / 2,
                y: cacheMousePos.y - e.rect.height / 2,
              },
              0
            )
            .to(
              e.DOM.el,
              0.9,
              {
                ease: Expo.easeOut,
                x: r.x - e.rect.width / 2,
                y: r.y - e.rect.height / 2,
              },
              0
            )
            .to(e.DOM.el, 1, { ease: Power1.easeOut, opacity: 0 }, 0.4)
            .to(e.DOM.el, 1, { ease: Quint.easeOut, scale: 0.2 }, 0.4);
      }
    }
    new d(),
      $('nav.next', t).on('click', function () {
        $('.flickity-viewport', t).addClass('is-pointer-down'),
          setTimeout(function () {
            n.flickity('next');
          }, 300),
          setTimeout(function () {
            $('.flickity-viewport', t).removeClass('is-pointer-down');
          }, 700);
      }),
      $('nav.prev', t).on('click', function () {
        $('.flickity-viewport', t).addClass('is-pointer-down'),
          setTimeout(function () {
            n.flickity('previous');
          }, 300),
          setTimeout(function () {
            $('.flickity-viewport', t).removeClass('is-pointer-down');
          }, 700);
      });
  }
}
function fnCenteredCarousel(e, t) {
  t = $(t);
  var o = $('.slider', t),
    n = $('.controls', t);
  o.flickity({ prevNextButtons: !1, pageDots: !1, wrapAround: !0 }),
    $('nav.next', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('next');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    }),
    $('nav.prev', n).on('click', function () {
      $('.flickity-viewport', t).addClass('is-pointer-down'),
        setTimeout(function () {
          o.flickity('previous');
        }, 300),
        setTimeout(function () {
          $('.flickity-viewport', t).removeClass('is-pointer-down');
        }, 700);
    });
  let i = $('.item img', t),
    s = $('.item .overlay', t),
    a = o.data('flickity');
  $(i).length &&
    $(s).length &&
    o.on('scroll.flickity', function () {
      a.slides.forEach(function (e, t) {
        let o = -1 / 3;
        (x = 0),
          0 === t
            ? (x =
                Math.abs(a.x) > a.slidesWidth
                  ? a.slidesWidth +
                    a.x +
                    a.slides[a.slides.length - 1].outerWidth +
                    e.target
                  : e.target + a.x)
            : t === a.slides.length - 1
            ? (x =
                Math.abs(a.x) + a.slides[t].outerWidth < a.slidesWidth
                  ? e.target - a.slidesWidth + a.x - a.slides[t].outerWidth
                  : e.target + a.x)
            : (x = e.target + a.x),
          $(window).width() < 769 && (o = -1 / 0),
          (s[t].style.transform = 'translateX(' + x * o + 'px)'),
          (i[t].style.transform = 'translateX(' + x * o + 'px)');
      });
    }),
    ScrollTrigger.refresh();
}
function fnTextStatsAside(e, t) {
  t = $(t);
  var o = $('.number', t),
    n = $(window);
  scroll.on('scroll', function () {
    var e = n.height(),
      i = n.scrollTop(),
      s = i + e;
    $.each(t, function () {
      var e = $(this).outerHeight(),
        t = $(this).offset().top;
      t + e >= i &&
        t <= s - 250 &&
        $(o).each(function () {
          $(this)
            .prop('Counter', 0)
            .animate(
              { Counter: $(this).data('count') },
              {
                duration: 2500,
                easing: 'swing',
                step: function (e) {
                  $(this).text(Math.ceil(e).toLocaleString('en'));
                },
              }
            );
        });
    });
  }),
    setTimeout(() => {
      $('.--s-characters', t).addClass('show');
    }, 3e3);
}
setInterval(() => {
  let e = Math.floor($('[data-scroll-container]').height());
  pageTempHeight != e && ((pageTempHeight = e), scroll.update());
}, 500),
  scroll.on('scroll', (e) => {
    if (
      (document.documentElement.setAttribute('data-direction', e.direction),
      e.scroll.y > 200 && $(window).width() > 480
        ? document.documentElement.classList.add('-watch-direction')
        : document.documentElement.classList.remove('-watch-direction'),
      'object' == typeof e.currentElements.footer &&
        resizePage < 1 &&
        (window.dispatchEvent(new Event('resize')), (resizePage = 1)),
      $('footer.primary .media video').length > 0)
    ) {
      let t = $('footer.primary .media video');
      'object' == typeof e.currentElements.footer
        ? (t.get(0).play(),
          (t.get(0).onplaying = () => {
            $('footer.primary .media video').fadeIn();
          }))
        : t.get(0).pause();
    }
    ScrollTrigger.update;
  }),
  ScrollTrigger.scrollerProxy('[data-scroll-container]', {
    scrollTop(e) {
      return arguments.length
        ? scroll.scrollTo(e, 0, 0)
        : scroll.scroll.instance.scroll.y;
    },
    getBoundingClientRect: () => ({
      top: 0,
      left: 0,
      width: window.innerWidth,
      height: window.innerHeight,
    }),
    pinType: document.querySelector('[data-scroll-container]').style.transform
      ? 'transform'
      : 'fixed',
  }),
  gsap.registerPlugin(ScrollTrigger),
  (function (e) {
    'use strict';
    document.documentElement.classList.add('-loaded'),
      document.documentElement.classList.remove('-loading'),
      e('aside.newsletter').each(fnNewsletterModal),
      e('section.hero-insight').each(fnLeftCarousel),
      e('header.campaign').each(fnHeaderCampaign),
      fnHeaderColourLoad(),
      fnCursor(),
      e('section.home-hero').each(fnHomeHero),
      e('header.primary').each(fnHeaderPrimary),
      fnMagnetize(),
      e('section.projects').each(fnProjectsListing),
      e('section.hero').each(fnHero),
      e('section.hero-work').each(fnHeroWork),
      e('section.hero-campaign').each(fnHeroCampaign),
      e('section.stacked-tiles').each(fnStackedTiles),
      e('section.hero-montage').each(fnAboutPage),
      e('section.hero-clients').each(fnClientsHero),
      e('section.hero-article').each(fnHeroArticle),
      e('section.hero-insight').each(fnHeroInsight),
      e('section.contact-form').each(fnContactHero),
      e('section.works-carousel').each(fnCenteredCarousel),
      e('section.contact-form').each(fnContactForm),
      setTimeout(() => {
        e('section.bio-aside-feature').each(fnBioAsideFeature),
          e('section.marquee-divider').each(fnMarqueeDivider),
          e('section.service-carousel').each(fnLeftCarousel),
          e('section.staff-carousel').each(fnLeftCarousel),
          e('section.stories-carousel').each(fnCenteredCarousel),
          e('section.media-carousel').each(fnMediaCarousel),
          e('section.article-thumbs').each(fnArticleThumbs),
          e('section.stacked-carousel-aside-text').each(
            fnStackedCarouselAsideText
          ),
          e('section.insta-trail').each(fnInstaTrail),
          e('section.hero-alt-trial').each(fnHeroAltTrial),
          e('section.staff-list').each(fnStaffListCarousel),
          e('section.paginate-trial').each(fnPaginateTrial),
          e('section.indented-accords').each(fnIndentedAccords),
          e('section.text-aside-thumb-carousel').each(fnLeftCarousel),
          e('section.client-our-team-marquee').each(fnClientTeamMarquee),
          e('section.services-marquee').each(fnServicesMarquee),
          e('section.statement-img-trial').each(fnStatementImgTrial),
          e('section.hero-filters').each(fnHeroFilters),
          e('section.text-stats-aside-img, section.indented-textarea').each(
            fnTextStatsAside
          ),
          e('section.hover-img-links').each(fnHoverImgLinks),
          e('section.download-guide-form').each(fnDownloadGuideForm),
          e('footer.primary').each(fnFooter),
          document.documentElement.classList.add('-ready');
      }, 1e3),
      setTimeout(() => {
        e('.slide_content').css({ opacity: 1 });
      }, 500);
  })(jQuery),
  ScrollTrigger.addEventListener('refresh', () => {
    scroll.update();
  });
